{"version":3,"file":"js/app-legacy.42836449.js","mappings":"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","sources":["webpack://idphotomaker/./src/App.vue?52e1","webpack://idphotomaker/./src/views/header/HeaderView.vue?d839","webpack://idphotomaker/./src/components/header/SmartCrop.vue?16e1","webpack://idphotomaker/./src/components/ImgCutter/src/components/ImgCutter.vue?1196","webpack://idphotomaker/src/components/ImgCutter/src/components/ImgCutter.vue","webpack://idphotomaker/./src/components/ImgCutter/src/components/ImgCutter.vue?ddf4","webpack://idphotomaker/./src/components/ImgCutter/src/components/ImgCutter.vue","webpack://idphotomaker/./src/components/ImgCutter/src/index.js","webpack://idphotomaker/src/components/header/SmartCrop.vue","webpack://idphotomaker/./src/components/header/SmartCrop.vue?1cc1","webpack://idphotomaker/./src/components/header/SmartCrop.vue","webpack://idphotomaker/./src/components/header/BackgroundReplace.vue?239c","webpack://idphotomaker/./src/config/faceppapi.js","webpack://idphotomaker/src/components/header/BackgroundReplace.vue","webpack://idphotomaker/./src/components/header/BackgroundReplace.vue?41ac","webpack://idphotomaker/./src/components/header/BackgroundReplace.vue","webpack://idphotomaker/src/views/header/HeaderView.vue","webpack://idphotomaker/./src/views/header/HeaderView.vue?3333","webpack://idphotomaker/./src/views/header/HeaderView.vue","webpack://idphotomaker/./src/views/main/MainView.vue?fe26","webpack://idphotomaker/./src/components/main/SiderPreviewCard.vue?4993","webpack://idphotomaker/src/components/main/SiderPreviewCard.vue","webpack://idphotomaker/./src/components/main/SiderPreviewCard.vue?9ac3","webpack://idphotomaker/./src/components/main/SiderPreviewCard.vue","webpack://idphotomaker/./src/components/main/MainPreviewCard.vue?c7af","webpack://idphotomaker/src/components/main/MainPreviewCard.vue","webpack://idphotomaker/./src/components/main/MainPreviewCard.vue?de0a","webpack://idphotomaker/./src/components/main/MainPreviewCard.vue","webpack://idphotomaker/src/views/main/MainView.vue","webpack://idphotomaker/./src/views/main/MainView.vue?d595","webpack://idphotomaker/./src/views/main/MainView.vue","webpack://idphotomaker/src/App.vue","webpack://idphotomaker/./src/App.vue?fbbb","webpack://idphotomaker/./src/App.vue","webpack://idphotomaker/./src/store/index.js","webpack://idphotomaker/./src/main.js","webpack://idphotomaker/webpack/bootstrap","webpack://idphotomaker/webpack/runtime/chunk loaded","webpack://idphotomaker/webpack/runtime/compat get default export","webpack://idphotomaker/webpack/runtime/define property getters","webpack://idphotomaker/webpack/runtime/global","webpack://idphotomaker/webpack/runtime/hasOwnProperty shorthand","webpack://idphotomaker/webpack/runtime/make namespace object","webpack://idphotomaker/webpack/runtime/jsonp chunk loading","webpack://idphotomaker/webpack/startup"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"layout\"},[_c('Layout',[_c('HeaderView'),_c('MainView')],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-view\"},[_c('Header',{staticClass:\"header\"},[_c('Menu',{staticClass:\"menu\",attrs:{\"mode\":\"horizontal\",\"theme\":\"light\"}},[_c('div',{staticClass:\"layout-nav\"},[_c('Dropdown',{staticClass:\"upload-img\"},[_c('Upload',{ref:\"upload\",attrs:{\"action\":\"#\",\"multiple\":false,\"show-upload-list\":false,\"before-upload\":_vm.loadImg,\"format\":['jpg', 'jpeg', 'png'],\"accept\":_vm.accept,\"on-format-error\":_vm.handleFormatError}},[_c('div',{staticClass:\"upload\"},[_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\"}}),_vm._v(\" 打开图片 \")],1)])],1),_c('Dropdown',{staticClass:\"reset-img\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.resetCurrentImg}},[_c('Icon',{attrs:{\"type\":\"ios-crop\"}}),_vm._v(\" 重置修改 \")],1)],1),_c('Dropdown',{staticClass:\"crop-img\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.smartCropModalVal = true}}},[_c('Icon',{attrs:{\"type\":\"ios-crop\"}}),_vm._v(\" 裁剪图片 \")],1)],1),_c('Dropdown',{staticClass:\"replace-bg\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.backgroundReplaceModalVal = true}}},[_c('Icon',{attrs:{\"type\":\"ios-aperture-outline\"}}),_vm._v(\" 背景替换 \")],1)],1),_c('Dropdown',{staticClass:\"replace-bg\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.exportImg}},[_c('Icon',{attrs:{\"type\":\"ios-cloud-download-outline\"}}),_vm._v(\" 导出下载 \")],1)],1)],1)])],1),_c('SmartCrop',{model:{value:(_vm.smartCropModalVal),callback:function ($$v) {_vm.smartCropModalVal=$$v},expression:\"smartCropModalVal\"}}),_c('BackgroundReplace',{model:{value:(_vm.backgroundReplaceModalVal),callback:function ($$v) {_vm.backgroundReplaceModalVal=$$v},expression:\"backgroundReplaceModalVal\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"draggable\":\"\",\"sticky\":\"\",\"reset-drag-position\":true,\"mask\":false,\"width\":800,\"title\":\"智能裁剪\",\"ok-text\":\"保存修改\",\"cancel-text\":\"取消修改\"},on:{\"on-visible-change\":_vm.handleVisibleChange,\"on-ok\":_vm.saveCropedImg,\"on-cancel\":_vm.closeModal},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('div',{staticClass:\"img-cutter\"},[_c('div',{staticClass:\"modal-left\"},[_c('ImgCutter',{ref:\"imgCutterModal\",attrs:{\"is-modal\":false,\"box-width\":570,\"box-height\":400,\"show-choose-btn\":false,\"preview-mode\":true,\"size-change\":true,\"cut-width\":200,\"cut-height\":280,\"rate\":\"10:14\",\"auto-rotate\":_vm.autoRotate},on:{\"cutDown\":_vm.cutDown,\"onPrintImg\":_vm.printImg,\"onClearAll\":_vm.clearImg,\"error\":_vm.error},scopedSlots:_vm._u([{key:\"cancel\",fn:function(){return [_c('Button',{ref:\"cancelButton\",attrs:{\"type\":\"text\",\"disabled\":\"\"}},[_vm._v(\" 取消 \")])]},proxy:true},{key:\"confirm\",fn:function(){return [_c('Button',{ref:\"cropButton\",attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\" 裁剪 \")])]},proxy:true}])})],1),_c('div',{staticClass:\"modal-right\"},[_c('div',{ref:\"previewimg\",staticClass:\"preview-img\"}),_c('div',{staticClass:\"right-button\"},[_c('Button',{ref:\"autoRotateButton\",staticClass:\"right-button\",attrs:{\"type\":\"primary\",\"disabled\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.smartRotate}},[(!_vm.loading)?_c('span',[_vm._v(\"自动矫正\")]):_c('span',[_vm._v(\"处理中...\")])])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showChooseBtn === true && _vm.isModal === true)?_c('div',{on:{\"click\":_vm.handleOpen}},[_vm._t(\"openImgCutter\"),_vm._t(\"open\")],2):_vm._e(),(!_vm.$slots.openImgCutter && !_vm.$slots.open && _vm.isModal === true)?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.handleOpen}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e(),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.visible)?_c('div',{ref:\"mask\",class:_vm.isModal === true ? 'mask vue-img-cutter' : ''},[(_vm.visible)?_c('div',{class:_vm.isModal === true ? 'dialogBoxModal' : 'dialogBox'},[_c('transition',{attrs:{\"name\":\"fade\",\"enter-class\":\"fade-in-enter\",\"enter-active-class\":\"fade-in-active\",\"leave-class\":\"fade-out-enter\",\"leave-active-class\":\"fade-out-active\"}},[_c('div',{ref:\"dialogMainModalRef\",class:_vm.isModal === true ? 'dialogMainModal' : 'dialogMain',style:('width:' + (_vm.isModal === true ? _vm.boxWidth + 32 : _vm.boxWidth) + 'px')},[_c('div',{staticClass:\"toolMain\"},[(_vm.isModal === true)?_c('div',{staticClass:\"tool-title\"},[_vm._v(\" 图片裁剪 \"),_c('span',{staticClass:\"closeIcon\",on:{\"click\":_vm.handleClose}},[_vm._v(\"×\")])]):_vm._e(),_c('div',{ref:\"toolBox\",staticClass:\"toolBox\",style:('height:' + _vm.boxHeight + 'px;width:' + _vm.boxWidth + 'px'),on:{\"mousemove\":_vm.controlBtnMouseMove,\"mouseup\":_vm.controlBtnMouseUp,\"mouseleave\":_vm.controlBtnMouseUp}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.drawImg.img && _vm.showChooseBtn === true),expression:\"!drawImg.img && showChooseBtn === true\"}],staticClass:\"tips\"},[_c('div',{staticClass:\"btn btn-warning btn-xs\",on:{\"click\":_vm.chooseImg}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")])]),(_vm.tool == true)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                    _vm.drawImg.img &&\n                      _vm.dropImg.active !== true &&\n                      _vm.controlBox.disable == true &&\n                      _vm.toolBox.disable == true\n                  ),expression:\"\\n                    drawImg.img &&\\n                      dropImg.active !== true &&\\n                      controlBox.disable == true &&\\n                      toolBox.disable == true\\n                  \"}],staticClass:\"dockMain\",style:('background:' + _vm.toolBgc),on:{\"mouseenter\":_vm.dropImgOff}},[(_vm.rate)?_c('div',{staticClass:\"dockBtn\"},[_vm._t(\"ratio\",function(){return [_vm._v(\" Ratio: \")]}),_vm._v(\" \"+_vm._s(_vm.rate)+\" \")],2):_vm._e(),_c('div',{staticClass:\"dockBtn\",on:{\"click\":_vm.scaleReset}},[_vm._t(\"scaleReset\",function(){return [_vm._v(\" Scale: \")]}),_vm._v(\" \"+_vm._s(_vm.drawImg.swidth > 0 ? (_vm.drawImg.width / _vm.drawImg.swidth).toFixed(2) : '-')+\" \")],2),(_vm.originalGraph === false)?_c('div',{staticClass:\"dockBtn\",on:{\"click\":function($event){return _vm.turnImg(-90)}}},[_vm._t(\"turnLeft\",function(){return [_vm._v(\" ↳ \")]})],2):_vm._e(),(_vm.originalGraph === false)?_c('div',{staticClass:\"dockBtn\",on:{\"click\":function($event){return _vm.turnImg(90)}}},[_vm._t(\"turnRight\",function(){return [_vm._v(\" ↲ \")]})],2):_vm._e(),(_vm.originalGraph === false)?_c('div',{staticClass:\"dockBtn\",on:{\"click\":function($event){return _vm.turnReset()}}},[_vm._t(\"reset\",function(){return [_vm._v(\" ↻ \")]})],2):_vm._e(),(_vm.originalGraph === false)?_c('div',{staticClass:\"dockBtnScrollBar\"},[_c('div',{ref:\"dockBtnScrollControl\",staticClass:\"scrollBarControl\",style:('left:' + _vm.rotateControl.position + 'px'),on:{\"mousemove\":_vm.scrollBarControlMove,\"mousedown\":_vm.scrollBarControlOn,\"mouseleave\":_vm.scrollBarControlOff,\"mouseup\":_vm.scrollBarControlOff}}),(_vm.rotateControl.active == true)?_c('div',{staticClass:\"scrollBarText\",style:('left:' + _vm.rotateControl.position + 'px')},[_vm._v(\" \"+_vm._s(_vm.rotateImg.angle.toFixed(0) + '°')+\" \")]):_vm._e()]):_vm._e(),(_vm.originalGraph === false)?_c('div',{staticClass:\"dockBtn\",on:{\"click\":_vm.flipHorizontal}},[_vm._t(\"flipHorizontal\",function(){return [_vm._v(\" ⇆ \")]})],2):_vm._e(),(_vm.originalGraph === false)?_c('div',{staticClass:\"dockBtn\",on:{\"click\":_vm.flipVertically}},[_vm._t(\"turnRight\",function(){return [_vm._v(\" ⇅ \")]})],2):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.drawImg.img != null),expression:\"drawImg.img != null\"}],ref:\"toolBoxControl\",staticClass:\"toolBoxControl\",on:{\"mousedown\":_vm.toolBoxMouseDown,\"mouseup\":_vm.toolBoxMouseUp,\"mousemove\":_vm.toolBoxMouseMove,\"mouseleave\":_vm.toolBoxMouseLeave}},[_c('div',{staticClass:\"toolBoxControlBox\"},[_c('div',{staticClass:\"controlBox\"},[_c('div',{staticClass:\"controlBoxInnerLine controlBoxInnerLineTop\"}),_c('div',{staticClass:\"controlBoxInnerLine controlBoxInnerLineBottom\"}),_c('div',{staticClass:\"controlBoxInnerLine controlBoxInnerLineLeft\"}),_c('div',{staticClass:\"controlBoxInnerLine controlBoxInnerLineRight\"}),_c('div',{staticClass:\"selectArea\"},[_vm._v(\" 宽:\"+_vm._s(_vm.showToolBoxWidth)+\" 高:\"+_vm._s(_vm.showToolBoxHeight)+\" (x:\"+_vm._s(_vm.showToolBoxX)+\",y:\"+_vm._s(_vm.showToolBoxY)+\") \")]),(_vm.sizeChange === true)?_c('div',{staticClass:\"leftUp controlBtn\",attrs:{\"data-name\":\"leftUp\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'leftUp')}}}):_vm._e(),(_vm.sizeChange === true)?_c('div',{staticClass:\"leftDown controlBtn\",attrs:{\"data-name\":\"leftDown\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'leftDown')}}}):_vm._e(),(_vm.sizeChange === true)?_c('div',{staticClass:\"rightUp controlBtn\",attrs:{\"data-name\":\"rightUp\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'rightUp')}}}):_vm._e(),(_vm.sizeChange === true)?_c('div',{staticClass:\"rightDown controlBtn\",attrs:{\"data-name\":\"rightDown\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'rightDown')}}}):_vm._e(),(_vm.sizeChange === true && !_vm.rate && _vm.toolBox.width > 20)?_c('div',{staticClass:\"topCenter controlBtn\",attrs:{\"data-name\":\"topCenter\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'topCenter')}}}):_vm._e(),(_vm.sizeChange === true && !_vm.rate && _vm.toolBox.width > 20)?_c('div',{staticClass:\"downCenter controlBtn\",attrs:{\"data-name\":\"downCenter\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'downCenter')}}}):_vm._e(),(_vm.sizeChange === true && !_vm.rate && _vm.toolBox.height > 20)?_c('div',{staticClass:\"leftCenter controlBtn\",attrs:{\"data-name\":\"leftCenter\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'leftCenter')}}}):_vm._e(),(_vm.sizeChange === true && !_vm.rate && _vm.toolBox.height > 20)?_c('div',{staticClass:\"rightCenter controlBtn\",attrs:{\"data-name\":\"rightCenter\"},on:{\"mousedown\":function($event){return _vm.controlBtnMouseDown($event, 'rightCenter')}}}):_vm._e()]),_c('div',{staticClass:\"toolBoxControlLine toolBoxControlLineItem-1\"}),_c('div',{staticClass:\"toolBoxControlLine toolBoxControlLineItem-2\"}),_c('div',{staticClass:\"toolBoxControlLine toolBoxControlLineItem-3\"}),_c('div',{staticClass:\"toolBoxControlLine toolBoxControlLineItem-4\"})])]),_c('div',{staticClass:\"copyright\"},[(!_vm.DoNotDisplayCopyright)?_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/acccccccb/vue-img-cutter\",\"rel\":\"nofollow\"}},[_vm._v(\" vue-img-cutter \"+_vm._s(_vm.version)+\" \")]):_vm._e()]),_c('canvas',{ref:\"canvasSelectBox\",staticClass:\"canvasSelectBox\",attrs:{\"width\":_vm.boxWidth,\"height\":_vm.boxHeight},on:{\"mousedown\":_vm.dropImgOn,\"mouseup\":_vm.dropImgOff,\"mousemove\":_vm.dropImgMove}}),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"width\":_vm.boxWidth,\"height\":_vm.boxHeight}})])]),_c('div',{staticClass:\"i-dialog-footer\",staticStyle:{\"height\":\"40px\"}},[_c('input',{ref:\"inputFile\",staticStyle:{\"width\":\"1px\",\"height\":\"1px\",\"border\":\"none\",\"opacity\":\"0\"},attrs:{\"type\":\"file\",\"accept\":\"image/gif, image/jpeg ,image/png\"},on:{\"change\":_vm.putImgToCanv}}),_c('span',{on:{\"click\":_vm.chooseImg}},[_vm._t(\"choose\",function(){return [(_vm.showChooseBtn === true)?_c('div',{staticClass:\"btn btn-primary btn-primary-plain\"},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e()]})],2),_c('div',{staticClass:\"btn-group fr\"},[_c('span',{on:{\"click\":_vm.handleClose}},[_vm._t(\"cancel\",function(){return [_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"button\"}},[_vm._v(\"取消\")])]})],2),_c('span',{on:{\"click\":function($event){return _vm.cropPicture(false)}}},[_vm._t(\"confirm\",function(){return [_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin-left\":\"15px\"},attrs:{\"type\":\"button\",\"disabled\":!_vm.drawImg.img}},[_vm._v(\" 确定 \")])]})],2)])])])]),_c('div',{staticStyle:{\"clear\":\"both\"}})],1):_vm._e()]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"showChooseBtn === true && isModal === true\" @click=\"handleOpen\">\n      <slot name=\"openImgCutter\" />\n      <slot name=\"open\" />\n    </div>\n    <button\n      v-if=\"!$slots.openImgCutter && !$slots.open && isModal === true\"\n      type=\"button\"\n      class=\"btn btn-primary\"\n      @click=\"handleOpen\"\n    >\n      {{ label }}\n    </button>\n    <transition name=\"fade\">\n      <div v-if=\"visible\" ref=\"mask\" :class=\"isModal === true ? 'mask vue-img-cutter' : ''\">\n        <div v-if=\"visible\" :class=\"isModal === true ? 'dialogBoxModal' : 'dialogBox'\">\n          <transition\n            name=\"fade\"\n            enter-class=\"fade-in-enter\"\n            enter-active-class=\"fade-in-active\"\n            leave-class=\"fade-out-enter\"\n            leave-active-class=\"fade-out-active\"\n          >\n            <div\n              ref=\"dialogMainModalRef\"\n              :class=\"isModal === true ? 'dialogMainModal' : 'dialogMain'\"\n              :style=\"'width:' + (isModal === true ? boxWidth + 32 : boxWidth) + 'px'\"\n            >\n              <div class=\"toolMain\">\n                <div v-if=\"isModal === true\" class=\"tool-title\">\n                  图片裁剪\n                  <span class=\"closeIcon\" @click=\"handleClose\">×</span>\n                </div>\n                <div\n                  ref=\"toolBox\"\n                  :style=\"'height:' + boxHeight + 'px;width:' + boxWidth + 'px'\"\n                  class=\"toolBox\"\n                  @mousemove=\"controlBtnMouseMove\"\n                  @mouseup=\"controlBtnMouseUp\"\n                  @mouseleave=\"controlBtnMouseUp\"\n                >\n                  <!--选取图片-->\n                  <div v-show=\"!drawImg.img && showChooseBtn === true\" class=\"tips\">\n                    <div class=\"btn btn-warning btn-xs\" @click=\"chooseImg\">\n                      {{ label }}\n                    </div>\n                  </div>\n                  <!--工具栏-->\n                  <div\n                    v-if=\"tool == true\"\n                    v-show=\"\n                      drawImg.img &&\n                        dropImg.active !== true &&\n                        controlBox.disable == true &&\n                        toolBox.disable == true\n                    \"\n                    class=\"dockMain\"\n                    :style=\"'background:' + toolBgc\"\n                    @mouseenter=\"dropImgOff\"\n                  >\n                    <div v-if=\"rate\" class=\"dockBtn\">\n                      <slot name=\"ratio\">\n                        Ratio:\n                      </slot>\n                      {{ rate }}\n                    </div>\n                    <div class=\"dockBtn\" @click=\"scaleReset\">\n                      <slot name=\"scaleReset\">\n                        Scale:\n                      </slot>\n                      {{ drawImg.swidth > 0 ? (drawImg.width / drawImg.swidth).toFixed(2) : '-' }}\n                    </div>\n                    <div v-if=\"originalGraph === false\" class=\"dockBtn\" @click=\"turnImg(-90)\">\n                      <slot name=\"turnLeft\">\n                        ↳\n                      </slot>\n                    </div>\n                    <div v-if=\"originalGraph === false\" class=\"dockBtn\" @click=\"turnImg(90)\">\n                      <slot name=\"turnRight\">\n                        ↲\n                      </slot>\n                    </div>\n                    <div v-if=\"originalGraph === false\" class=\"dockBtn\" @click=\"turnReset()\">\n                      <slot name=\"reset\">\n                        ↻\n                      </slot>\n                    </div>\n                    <div v-if=\"originalGraph === false\" class=\"dockBtnScrollBar\">\n                      <div\n                        ref=\"dockBtnScrollControl\"\n                        :style=\"'left:' + rotateControl.position + 'px'\"\n                        class=\"scrollBarControl\"\n                        @mousemove=\"scrollBarControlMove\"\n                        @mousedown=\"scrollBarControlOn\"\n                        @mouseleave=\"scrollBarControlOff\"\n                        @mouseup=\"scrollBarControlOff\"\n                      />\n                      <div\n                        v-if=\"rotateControl.active == true\"\n                        class=\"scrollBarText\"\n                        :style=\"'left:' + rotateControl.position + 'px'\"\n                      >\n                        {{ rotateImg.angle.toFixed(0) + '°' }}\n                      </div>\n                    </div>\n                    <div v-if=\"originalGraph === false\" class=\"dockBtn\" @click=\"flipHorizontal\">\n                      <slot name=\"flipHorizontal\">\n                        ⇆\n                      </slot>\n                    </div>\n                    <div v-if=\"originalGraph === false\" class=\"dockBtn\" @click=\"flipVertically\">\n                      <slot name=\"turnRight\">\n                        ⇅\n                      </slot>\n                    </div>\n                  </div>\n                  <!--裁剪区域-->\n                  <div\n                    v-show=\"drawImg.img != null\"\n                    ref=\"toolBoxControl\"\n                    class=\"toolBoxControl\"\n                    @mousedown=\"toolBoxMouseDown\"\n                    @mouseup=\"toolBoxMouseUp\"\n                    @mousemove=\"toolBoxMouseMove\"\n                    @mouseleave=\"toolBoxMouseLeave\"\n                  >\n                    <div class=\"toolBoxControlBox\">\n                      <div class=\"controlBox\">\n                        <!--蚂蚁线-->\n                        <div class=\"controlBoxInnerLine controlBoxInnerLineTop\" />\n                        <div class=\"controlBoxInnerLine controlBoxInnerLineBottom\" />\n                        <div class=\"controlBoxInnerLine controlBoxInnerLineLeft\" />\n                        <div class=\"controlBoxInnerLine controlBoxInnerLineRight\" />\n                        <!--工具栏提示-->\n                        <div class=\"selectArea\">\n                          宽:{{ showToolBoxWidth }} 高:{{ showToolBoxHeight }} (x:{{\n                            showToolBoxX\n                          }},y:{{ showToolBoxY }})\n                        </div>\n                        <!--操作杆-->\n                        <div\n                          v-if=\"sizeChange === true\"\n                          data-name=\"leftUp\"\n                          class=\"leftUp controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'leftUp')\"\n                        />\n                        <div\n                          v-if=\"sizeChange === true\"\n                          data-name=\"leftDown\"\n                          class=\"leftDown controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'leftDown')\"\n                        />\n                        <div\n                          v-if=\"sizeChange === true\"\n                          data-name=\"rightUp\"\n                          class=\"rightUp controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'rightUp')\"\n                        />\n                        <div\n                          v-if=\"sizeChange === true\"\n                          data-name=\"rightDown\"\n                          class=\"rightDown controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'rightDown')\"\n                        />\n\n                        <div\n                          v-if=\"sizeChange === true && !rate && toolBox.width > 20\"\n                          data-name=\"topCenter\"\n                          class=\"topCenter controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'topCenter')\"\n                        />\n                        <div\n                          v-if=\"sizeChange === true && !rate && toolBox.width > 20\"\n                          data-name=\"downCenter\"\n                          class=\"downCenter controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'downCenter')\"\n                        />\n                        <div\n                          v-if=\"sizeChange === true && !rate && toolBox.height > 20\"\n                          data-name=\"leftCenter\"\n                          class=\"leftCenter controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'leftCenter')\"\n                        />\n                        <div\n                          v-if=\"sizeChange === true && !rate && toolBox.height > 20\"\n                          data-name=\"rightCenter\"\n                          class=\"rightCenter controlBtn\"\n                          @mousedown=\"controlBtnMouseDown($event, 'rightCenter')\"\n                        />\n                      </div>\n                      <div class=\"toolBoxControlLine toolBoxControlLineItem-1\" />\n                      <div class=\"toolBoxControlLine toolBoxControlLineItem-2\" />\n                      <div class=\"toolBoxControlLine toolBoxControlLineItem-3\" />\n                      <div class=\"toolBoxControlLine toolBoxControlLineItem-4\" />\n                    </div>\n                  </div>\n                  <div class=\"copyright\">\n                    <a\n                      v-if=\"!DoNotDisplayCopyright\"\n                      target=\"_blank\"\n                      href=\"https://github.com/acccccccb/vue-img-cutter\"\n                      rel=\"nofollow\"\n                    >\n                      vue-img-cutter {{ version }}\n                    </a>\n                  </div>\n                  <!--画布-->\n                  <canvas\n                    ref=\"canvasSelectBox\"\n                    class=\"canvasSelectBox\"\n                    :width=\"boxWidth\"\n                    :height=\"boxHeight\"\n                    @mousedown=\"dropImgOn\"\n                    @mouseup=\"dropImgOff\"\n                    @mousemove=\"dropImgMove\"\n                  />\n                  <canvas ref=\"canvas\" class=\"canvas\" :width=\"boxWidth\" :height=\"boxHeight\" />\n                </div>\n              </div>\n              <div class=\"i-dialog-footer\" style=\"height: 40px\">\n                <input\n                  ref=\"inputFile\"\n                  type=\"file\"\n                  accept=\"image/gif, image/jpeg ,image/png\"\n                  style=\"width: 1px; height: 1px; border: none; opacity: 0\"\n                  @change=\"putImgToCanv\"\n                >\n                <span @click=\"chooseImg\">\n                  <slot name=\"choose\">\n                    <div v-if=\"showChooseBtn === true\" class=\"btn btn-primary btn-primary-plain\">\n                      {{ label }}\n                    </div>\n                  </slot>\n                </span>\n                <div class=\"btn-group fr\">\n                  <span @click=\"handleClose\">\n                    <slot name=\"cancel\">\n                      <button type=\"button\" class=\"btn btn-default\">取消</button>\n                    </slot>\n                  </span>\n                  <span @click=\"cropPicture(false)\">\n                    <slot name=\"confirm\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-primary\"\n                        style=\"margin-left: 15px\"\n                        :disabled=\"!drawImg.img\"\n                      >\n                        确定\n                      </button>\n                    </slot>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </transition>\n          <div style=\"clear: both\" />\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nconst config = {\n  name: 'vue-img-cutter',\n  version: '3.0.1',\n  description: 'A image crop plug-in for Vue,you can use it to rotate、zoom images and cut any size',\n  author: 'acccccccb <tabzhang@foxmail.com>',\n  private: false,\n  scripts: {\n    serve: 'vue-cli-service serve',\n    build: 'vue-cli-service build',\n    lint: 'vue-cli-service lint',\n  },\n  dependencies: {\n    'core-js': '^3.20.3',\n    'vue': '^3.2.29',\n  },\n  devDependencies: {\n    '@vue/cli-plugin-babel': '~4.5.15',\n    '@vue/cli-plugin-eslint': '~4.5.15',\n    '@vue/cli-service': '~4.5.15',\n    '@vue/compiler-sfc': '^3.2.29',\n    'babel-eslint': '^10.1.0',\n    'eslint': '^6.8.0',\n    'eslint-plugin-vue': '^7.20.0',\n  },\n  main: './src/index.js',\n  repository: {\n    type: 'git',\n    url: 'git+https://github.com/acccccccb/vue-img-cutter.git',\n  },\n  keywords: [\n    'image',\n    'crop',\n    'cutter',\n    'vue',\n    '裁剪',\n  ],\n  license: 'Apache2.0',\n  bugs: {\n    url: 'https://github.com/acccccccb/vue-img-cutter/issues',\n  },\n  homepage: 'https://ihtmlcss.com/demo/dist/#/croptool',\n  eslintConfig: {\n    root: true,\n    env: {\n      node: true,\n    },\n    extends: [\n      'plugin:vue/vue3-essential',\n      'eslint:recommended',\n    ],\n    parserOptions: {\n      parser: 'babel-eslint',\n    },\n    rules: {},\n  },\n  browserslist: [\n    '> 1%',\n    'last 2 versions',\n    'not dead',\n  ],\n}\n\nexport default {\n  name: 'ImgCutter',\n  model: ['label', 'boxWidth', 'boxHeight', 'rate', 'tool', 'DoNotDisplayCopyright'],\n  props: {\n    crossOrigin: {\n      // 是否设置图片跨域\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    crossOriginHeader: {\n      // 是否设置图片跨域\n      type: String,\n      default: '*',\n      required: false,\n    },\n    label: {\n      // 按钮文字\n      type: String,\n      default: '选择图片',\n      required: false,\n    },\n    isModal: {\n      // 是否已弹窗形式展示\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    lockScroll: {\n      // 是否在弹窗出现时锁定body\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    showChooseBtn: {\n      // 是否显示选择图片按钮 如果需要兼容IE9 则将此参数改为false\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    boxWidth: {\n      // 裁剪窗口高度\n      type: Number,\n      default: 800,\n      required: false,\n    },\n    boxHeight: {\n      // 裁剪窗口高度\n      type: Number,\n      default: 400,\n      required: false,\n    },\n    cutWidth: {\n      // 默认裁剪宽度\n      type: Number,\n      default: 200,\n      required: false,\n    },\n    cutHeight: {\n      // 默认裁剪高度\n      type: Number,\n      default: 200,\n      required: false,\n    },\n    rate: {\n      // 按比例裁剪\n      type: String,\n      default: null,\n      required: false,\n    },\n    tool: {\n      // 是否显示工具栏\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    toolBgc: {\n      // 工具栏背景色\n      type: String,\n      default: '#fff',\n      required: false,\n    },\n    imgMove: {\n      // 能否拖动图片\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    sizeChange: {\n      // 能否调整裁剪尺寸\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    originalGraph: {\n      // 是否为原图裁剪\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    moveAble: {\n      // 能否调整裁剪区域位置\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    previewMode: {\n      // 裁剪过程中是否返回裁剪结果 裁剪原图卡顿时将此项设置为false\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    CuttingOriginal: {\n      // 是否裁剪原图\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    WatermarkText: {\n      // 水印文字\n      type: String,\n      default: '',\n      required: false,\n    },\n    WatermarkTextFont: {\n      // 水印文字样式\n      type: String,\n      default: '12px Sans-serif',\n      required: false,\n    },\n    WatermarkTextColor: {\n      // 水印文字颜色\n      type: String,\n      default: '#fff',\n      required: false,\n    },\n    WatermarkTextX: {\n      // 水印横向位置\n      type: Number,\n      default: 0.95,\n      required: false,\n    },\n    WatermarkTextY: {\n      // 水印纵向位置\n      type: Number,\n      default: 0.95,\n      required: false,\n    },\n    smallToUpload: {\n      // 选择的图片宽高均小于裁剪宽高度时候直接上传原图\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    saveCutPosition: {\n      // 是否保存上一次裁剪位置\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    scaleAble: {\n      // 是否允许缩放图片\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    index: {\n      // 自定义参数 返回结果时会带入此值\n      default: null,\n      required: false,\n    },\n    fileType: {\n      // 文件类型\n      default: 'png',\n      required: false,\n      type: String,\n    },\n    toolBoxOverflow: {\n      // 是否允许裁剪框超出图片\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    DoNotDisplayCopyright: {\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    autoRotate: {\n      type: Number,\n      default: 0,\n      require: false,\n    },\n  },\n  data() {\n    let toolBoxWidth, toolBoxHeight\n\n    toolBoxWidth = this.boxWidth / 2\n    toolBoxHeight = this.boxHeight / 2\n    return {\n      version: '',\n      visible: false,\n      fileName: '',\n      cutImageObj: null,\n      onPrintImgTimmer: null,\n      toolBoxPosition: {\n        x: 0,\n        y: 0,\n      },\n      drawImg: {\n        img: null, // 规定要使用的图像、画布或视频\n        sx: 0, // 开始剪切的 x 坐标位置\n        sy: 0, // 开始剪切的 y 坐标位置\n        swidth: 0, // 被剪切图像的宽度\n        sheight: 0, // 被剪切图像的高度\n        x: 0, // 在画布上放置图像的 x 坐标位置\n        y: 0, // 在画布上放置图像的 y 坐标位置\n        width: 0, // 要使用的图像的宽度\n        height: 0, // 要使用的图像的高度\n      },\n      toolBox: {\n        disable: true,\n        width: toolBoxWidth,\n        height: toolBoxHeight,\n        x: 0,\n        y: 0,\n        boxMove: {\n          start: {\n            x: 0,\n            y: 0,\n          },\n          moveTo: {\n            x: 0,\n            y: 0,\n          },\n        },\n      },\n      dropImg: {\n        active: false,\n        pageX: 0,\n        pageY: 0,\n        params: {},\n      },\n      // 旋转\n      rotateImg: {\n        angle: 0,\n      },\n      rotateControl: {\n        active: false,\n        start: {\n          x: 0,\n          y: 0,\n        },\n        position: 100,\n      },\n      // 缩放\n      scaleImg: {\n        rate: 0,\n        params: {},\n      },\n      controlBox: {\n        disable: true,\n        btnName: '',\n        start: {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n        },\n      },\n      selectBox: false,\n      selectBoxColor: 'rgba(0,0,0,0.6)',\n      isFlipHorizontal: false, // 是否水平翻转\n      isFlipVertically: false, // 是否垂直翻转\n    }\n  },\n  computed: {\n    showToolBoxWidth() {\n      let result\n      if (!this.originalGraph)\n        result = this.toolBox.width\n      else\n        result = this.toolBox.width / (this.drawImg.width / this.drawImg.swidth)\n\n      return Number(result).toFixed(0)\n    },\n    showToolBoxHeight() {\n      let result\n      if (!this.originalGraph)\n        result = this.toolBox.height\n      else\n        result = this.toolBox.height / (this.drawImg.width / this.drawImg.swidth)\n\n      return Number(result).toFixed(0)\n    },\n    showToolBoxX() {\n      let result\n      result = this.toolBoxPosition.x\n      return Number(result).toFixed(0)\n    },\n    showToolBoxY() {\n      let result\n      result = this.toolBoxPosition.y\n      return Number(result).toFixed(0)\n    },\n  },\n  watch: {\n    autoRotate(nv) {\n      this.autoTurnImg(nv)\n    },\n  },\n  mounted() {\n    this.version = config.version\n    // 是否为弹窗模式\n    if (this.isModal === false) {\n      this.visible = true\n      this.$nextTick(() => {\n        if (this.$refs.toolBox) {\n          this.$refs.toolBox.onmousewheel = this.scaleImgWheel\n          this.$refs.toolBox.addEventListener('DOMMouseScroll', this.scaleImgWheel)\n        }\n      })\n    }\n  },\n  methods: {\n    handleOpen(img) {\n      const init = (callback) => {\n        if (this.$refs.toolBox) {\n          this.$refs.toolBox.onmousewheel = this.scaleImgWheel\n          this.$refs.toolBox.addEventListener('DOMMouseScroll', this.scaleImgWheel)\n        }\n\n        // 判断下窗口高度\n        if (this.isModal === true) {\n          if (this.lockScroll === true)\n            document.body.style.overflowY = 'hidden'\n\n          const dialogBoxHeight = this.$refs.dialogMainModalRef.offsetHeight + 200\n\n          const windowHeight = window.innerHeight\n\n          const mask = this.$refs.mask\n\n          if (dialogBoxHeight > windowHeight)\n            mask.style.overflowY = 'scroll'\n          else\n            mask.style.overflowY = 'hidden'\n        }\n        if (callback && typeof callback === 'function')\n          callback()\n      }\n\n      // 如果传入了图片\n      if (img && typeof img == 'object' && img.src) {\n        if (img.name) {\n          const $image = new Image()\n\n          if (this.crossOrigin === true)\n            $image.crossOrigin = this.crossOriginHeader\n\n          $image.name = img.name\n          // $image.width = img.width;\n          // $image.height = img.height;\n          // $image.style.width = '1px';\n          // $image.style.height = '1px';\n          $image.style.position = 'fixed'\n          $image.style.top = `${-5000}px`\n          $image.style.opacity = 0\n          $image.onerror = (e) => {\n            console.error('图片加载失败')\n            this.$emit('error', {\n              index: this.index,\n              event: e,\n              msg: '图片加载失败',\n            })\n            this.clearCutImageObj()\n          }\n          $image.onload = () => {\n            if ($image.complete === true) {\n              this.visible = true\n              this.$nextTick(() => {\n                init(() => {\n                  this.importImgToCanv($image)\n                })\n              })\n            }\n            else {\n              throw new Error('图片加载失败')\n              // this.handleClose();\n            }\n          }\n          $image.src = img.src\n          this.cutImageObj = $image\n          document.body.appendChild($image)\n          this.$emit('onChooseImg', img, this.index)\n        }\n        else {\n          throw new Error('传入参数必须包含：src,name')\n        }\n      }\n      else {\n        this.visible = true\n        this.$nextTick(() => {\n          init()\n        })\n      }\n    },\n    handleClose() {\n      this.clearAll()\n      if (this.isModal === true) {\n        if (this.lockScroll === true)\n          document.body.style.overflowY = 'scroll'\n\n        this.$nextTick(() => {\n          this.visible = false\n        })\n      }\n    },\n    // 选择图片 e.stopPropagation();\n    chooseImg() {\n      this.$refs.inputFile.click()\n    },\n    importImgToCanv(img) {\n      const imgHeight = img.height\n\n      const imgWidth = img.width\n\n      const boxWidth = this.boxWidth\n\n      const boxHeight = this.boxHeight\n\n      let rate\n\n      const drawImg = { ...this.drawImg }\n\n      this.fileName = img.name\n      drawImg.img = img\n      this.scaleImg.rate = imgWidth / imgHeight // 缩放时用到此参数\n      if (imgHeight < boxHeight && imgWidth < boxWidth) {\n        rate = 1\n        drawImg.x = (boxWidth - imgWidth) / 2\n        drawImg.y = (boxHeight - imgHeight) / 2\n      }\n      else {\n        if (imgWidth / imgHeight <= boxWidth / boxHeight) {\n          // 计算宽高比\n          rate = boxHeight / imgHeight\n          drawImg.x = (boxWidth - imgWidth * rate) / 2\n        }\n        else {\n          rate = boxWidth / imgWidth\n          drawImg.y = (boxHeight - imgHeight * rate) / 2\n        }\n      }\n      drawImg.swidth = imgWidth\n      drawImg.sheight = imgHeight\n      drawImg.width = imgWidth * rate\n      drawImg.height = imgHeight * rate\n      drawImg.x = (boxWidth - drawImg.width) / 2\n      drawImg.y = (boxHeight - drawImg.height) / 2\n      // this.$set(this, 'drawImg', drawImg);\n      this.drawImg = drawImg\n      this.printImg()\n      this.putToolBox()\n    },\n    // 将选择的图片绘制到画布\n    putImgToCanv(e) {\n      let file\n\n      if (e.target.files) {\n        file = e.target.files[0] || null\n      }\n      else {\n        // 如果是IE9及以下\n        console.error('IE9及以下需要自己传入image对象')\n        // this.$emit('importImage',e);\n        return false\n      }\n      if (file) {\n        this.fileName = file.name\n        const reader = new FileReader()\n\n        reader.readAsDataURL(file)\n        reader.onload = (result) => {\n          // 图片base64化\n          const newUrl = result.target.result\n\n          const img = document.createElement('img')\n\n          img.src = newUrl\n          const timmer = setInterval(() => {\n            if (reader.readyState === 2) {\n              clearInterval(timmer)\n              if (\n                !this.sizeChange\n                                    && this.smallToUpload\n                                    && img.width <= this.cutWidth\n                                    && img.height <= this.cutHeight\n              ) {\n                this.handleClose()\n                file.name = this.changeFileName(file.name, this.fileType)\n                this.$emit('cutDown', {\n                  filename: this.changeFileName(file.name, this.fileType),\n                  file,\n                  index: this.index,\n                })\n                return\n              }\n              const imgHeight = img.height\n\n              const imgWidth = img.width\n\n              const boxWidth = this.boxWidth\n\n              const boxHeight = this.boxHeight\n\n              let rate\n\n              const drawImg = { ...this.drawImg }\n\n              drawImg.img = img\n              this.scaleImg.rate = imgWidth / imgHeight // 缩放时用到此参数\n              if (imgHeight < boxHeight && imgWidth < boxWidth) {\n                rate = 1\n                drawImg.x = (boxWidth - imgWidth) / 2\n                drawImg.y = (boxHeight - imgHeight) / 2\n              }\n              else {\n                if (imgWidth / imgHeight <= boxWidth / boxHeight) {\n                  // 计算宽高比\n                  rate = boxHeight / imgHeight\n                  drawImg.x = (boxWidth - imgWidth * rate) / 2\n                }\n                else {\n                  rate = boxWidth / imgWidth\n                  drawImg.y = (boxHeight - imgHeight * rate) / 2\n                }\n              }\n              drawImg.swidth = imgWidth\n              drawImg.sheight = imgHeight\n              drawImg.width = imgWidth * rate\n              drawImg.height = imgHeight * rate\n              drawImg.x = (boxWidth - drawImg.width) / 2\n              drawImg.y = (boxHeight - drawImg.height) / 2\n              // this.$set(this, 'drawImg', drawImg);\n              this.drawImg = drawImg\n              this.printImg()\n              this.putToolBox()\n            }\n          }, 200)\n        }\n        this.$emit('onChooseImg', file, this.index)\n      }\n    },\n    putToolBox() {\n      if (\n        this.toolBox.width === this.boxWidth / 2\n                    || this.toolBox.height === this.boxHeight / 2\n                    || this.saveCutPosition === false\n      ) {\n        this.toolBox.width = this.cutWidth > this.boxWidth ? this.boxWidth : this.cutWidth\n        this.toolBox.height = this.cutHeight > this.boxHeight ? this.boxHeight : this.cutHeight\n      }\n      if ((this.toolBox.x === 0 && this.toolBox.y === 0) || this.saveCutPosition === false) {\n        this.toolBox.x = this.boxWidth / 2 - this.toolBox.width / 2\n        this.toolBox.y = this.boxHeight / 2 - this.toolBox.height / 2\n      }\n      this.checkToolBoxOverflow().then(() => {\n        this.printImg()\n      })\n\n      this.drawControlBox(this.toolBox.width, this.toolBox.height, this.toolBox.x, this.toolBox.y)\n    },\n    // 判断裁剪框是否超出图片\n    checkToolBoxOverflow() {\n      return new Promise((resolve) => {\n        if (!this.toolBoxOverflow) {\n          // 如果裁剪框不能超出图片 则先判断图片尺寸\n          // 如果图片尺寸长宽都超过裁剪框 不做处理\n          // 如果图片尺寸小于裁剪框 将图片缩放至合适尺寸\n          if (this.drawImg.width < this.toolBox.width || this.drawImg.height < this.toolBox.height) {\n            const p = this.drawImg.width / this.drawImg.height\n            if (this.drawImg.width < this.toolBox.width) {\n              this.drawImg.width = this.toolBox.width\n              this.drawImg.height = this.drawImg.width / p\n            }\n            if (this.drawImg.height < this.toolBox.height) {\n              this.drawImg.height = this.toolBox.height\n              this.drawImg.width = this.drawImg.height * p\n            }\n            // 根据图片缩放重新调整位置\n            this.drawImg.x = (this.boxWidth - this.drawImg.width) / 2\n            this.drawImg.y = (this.boxHeight - this.drawImg.height) / 2\n          }\n          // 检查图片坐标是否超出\n          console.log(\n            'this.drawImg.y > this.toolBox.y',\n            this.drawImg.y + this.drawImg.height,\n            this.toolBox.y + this.toolBox.height,\n          )\n          // 判断左右边界\n          if (this.drawImg.x > this.toolBox.x)\n            this.drawImg.x = this.toolBox.x\n\n          if (this.drawImg.x + this.drawImg.width < this.toolBox.x + this.toolBox.width)\n            this.drawImg.x = this.toolBox.x + this.toolBox.width - this.drawImg.width\n\n          // 判断上下边界\n          if (this.drawImg.y > this.toolBox.y)\n            this.drawImg.y = this.toolBox.y\n\n          if (this.drawImg.y + this.drawImg.height < this.toolBox.y + this.toolBox.height)\n            this.drawImg.y = this.toolBox.y + this.toolBox.height - this.drawImg.height\n        }\n        resolve()\n      })\n    },\n    isSupportFileApi() {\n      if (\n        window.File\n                    && window.FileList\n                    && window.FileReader\n                    && window.Blob\n                    && !navigator.userAgent.includes('Edge')\n                    && !navigator.userAgent.includes('MSIE')\n                    && !navigator.userAgent.includes('Trident')\n      )\n        return true\n\n      return false\n    },\n    dataURLtoFile(dataurl, filename) {\n      // 将图片转换为Base64\n      const arr = dataurl.split(',')\n      const mime = arr[0].match(/:(.*?);/)[1]\n      const bstr = atob(arr[1])\n      let n = bstr.length\n      const u8arr = new Uint8Array(n)\n\n      while (n--)\n        u8arr[n] = bstr.charCodeAt(n)\n\n      if (this.isSupportFileApi()) {\n        const file = new File([u8arr], filename, { type: mime })\n\n        return file\n      }\n      return '不支持File对象'\n    },\n    // clear both\n    clearAll() {\n      const _this = this\n\n      const c = _this.$refs.canvas\n\n      const ctx = c.getContext('2d')\n\n      ctx.clearRect(0, 0, c.width, c.height)\n      const c1 = _this.$refs.canvasSelectBox\n\n      const ctx1 = c1.getContext('2d')\n\n      ctx1.clearRect(0, 0, c1.width, c1.height)\n      const sx = _this.drawImg.sx\n\n      const sy = _this.drawImg.sy\n\n      this.drawImg = {\n        img: null, // 规定要使用的图像、画布或视频\n        sx, // 开始剪切的 x 坐标位置\n        sy, // 开始剪切的 y 坐标位置\n        swidth: 0, // 被剪切图像的宽度\n        sheight: 0, // 被剪切图像的高度\n        x: 0, // 在画布上放置图像的 x 坐标位置\n        y: 0, // 在画布上放置图像的 y 坐标位置\n        width: 0, // 要使用的图像的宽度\n        height: 0, // 要使用的图像的高度\n      }\n      this.isFlipHorizontal = false\n      this.isFlipVertically = false\n      this.$refs.inputFile.value = ''\n      this.rotateImg.angle = 0\n      this.drawImg.img = null\n      this.turnReset()\n      this.clearCutImageObj()\n      this.$emit('onClearAll', this.index)\n    },\n    clearCutImageObj() {\n      if (this.cutImageObj !== null && this.cutImageObj !== undefined) {\n        if (typeof this.cutImageObj.remove === 'function')\n          this.cutImageObj.remove()\n        else\n          this.cutImageObj.removeNode()\n      }\n      this.cutImageObj = null\n    },\n    // draw control\n    drawControlBox(width, height, x, y) {\n      // 裁剪框是否能够超出图片\n      if (!this.toolBoxOverflow) {\n        // 如果不允许超出图片范围 则也不允许反选\n        if (width < 1)\n          width = 1\n\n        if (height < 1)\n          height = 1\n\n        if (width > this.drawImg.width)\n          width = this.drawImg.width\n\n        if (height > this.drawImg.height)\n          height = this.drawImg.height\n\n        if (x < this.drawImg.x)\n          x = this.drawImg.x\n\n        if (y < this.drawImg.y)\n          y = this.drawImg.y\n\n        if (x > this.drawImg.x + this.drawImg.width - width)\n          x = this.drawImg.x + this.drawImg.width - width\n\n        if (y > this.drawImg.y + this.drawImg.height - height)\n          y = this.drawImg.y + this.drawImg.height - height\n      }\n      // 阻止超出裁剪控件边界\n      if (width > this.boxWidth)\n        width = this.boxWidth\n\n      if (height > this.boxHeight)\n        height = this.boxHeight\n\n      if (x < 0)\n        x = 0\n\n      if (y < 0)\n        y = 0\n\n      const $toolBoxControl = this.$refs.toolBoxControl\n\n      const c = this.$refs.canvasSelectBox\n\n      const ctx = c.getContext('2d')\n\n      ctx.fillStyle = this.selectBoxColor\n      ctx.clearRect(0, 0, c.width, c.height)\n      ctx.fillRect(0, 0, c.width, c.height)\n\n      let toolBoxControlWidth, toolBoxControlHeight\n\n      if (this.rate && this.rate !== '') {\n        const p = this.rate.split(':')[0] / this.rate.split(':')[1]\n\n        if (p >= 1) {\n          toolBoxControlWidth = width\n          toolBoxControlHeight = width / p\n          if (toolBoxControlHeight + y > this.drawImg.y + this.drawImg.height) {\n            toolBoxControlHeight = this.drawImg.y + this.drawImg.height - y\n            toolBoxControlWidth = toolBoxControlHeight * p\n          }\n        }\n        else {\n          toolBoxControlWidth = height * p\n          toolBoxControlHeight = height\n        }\n      }\n      else {\n        toolBoxControlWidth = width\n        toolBoxControlHeight = height\n      }\n      this.toolBox.width = Math.abs(toolBoxControlWidth)\n      this.toolBox.height = Math.abs(toolBoxControlHeight)\n\n      $toolBoxControl.style.width = `${Math.abs(toolBoxControlWidth)}px`\n      $toolBoxControl.style.height = `${Math.abs(toolBoxControlHeight)}px`\n\n      this.toolBox.boxMove.moveTo.x = x\n      this.toolBox.boxMove.moveTo.y = y\n      if (toolBoxControlWidth < 0)\n        x = x + toolBoxControlWidth\n\n      if (toolBoxControlHeight < 0)\n        y = y + toolBoxControlHeight\n\n      if (x + this.toolBox.width > this.boxWidth)\n        x = this.boxWidth - this.toolBox.width\n\n      if (x < 0)\n        x = 0\n\n      if (y + this.toolBox.height > this.boxHeight)\n        y = this.boxHeight - this.toolBox.height\n\n      if (y < 0)\n        y = 0\n\n      this.toolBoxPosition.x = x\n      this.toolBoxPosition.y = y\n\n      $toolBoxControl.style.left = `${x}px`\n      $toolBoxControl.style.top = `${y}px`\n\n      ctx.clearRect(x, y, Math.abs(toolBoxControlWidth), Math.abs(toolBoxControlHeight))\n      if (this.onPrintImgTimmer)\n        clearTimeout(this.onPrintImgTimmer)\n\n      this.onPrintImgTimmer = setTimeout(() => {\n        this.cropPicture(true)\n      }, 100)\n    },\n\n    resetToolBox() {\n      if (this.toolBox.width < 0)\n        this.toolBox.boxMove.moveTo.x = this.toolBox.x - this.toolBox.width\n\n      if (this.toolBox.height < 0)\n        this.toolBox.boxMove.moveTo.y = this.toolBox.y - this.toolBox.height\n\n      this.toolBox.width = Math.abs(this.toolBox.width)\n      this.toolBox.height = Math.abs(this.toolBox.height)\n    },\n    // toolBoxMouseDown\n    toolBoxMouseDown(e) {\n      const $toolBox = this.$refs.toolBoxControl\n\n      this.toolBox.x = parseInt($toolBox.style.left.split('px')[0])\n\n      this.toolBox.y = parseInt($toolBox.style.top.split('px')[0])\n\n      this.toolBox.disable = false\n      this.dropImg.active = false\n      this.toolBox.boxMove.start = {\n        x: e.pageX,\n        y: e.pageY,\n      }\n    },\n    toolBoxMouseMove(e) {\n      if (this.dropImg.active)\n        this.dropImgMove(e)\n\n      if (this.toolBox.disable === false && this.moveAble === true) {\n        const offsetX = e.pageX - this.toolBox.boxMove.start.x\n\n        const offsetY = e.pageY - this.toolBox.boxMove.start.y\n\n        const x = this.toolBox.x + offsetX\n\n        const y = this.toolBox.y + offsetY\n\n        this.drawControlBox(this.toolBox.width, this.toolBox.height, x, y)\n      }\n    },\n    toolBoxMouseLeave() {\n      this.toolBox.disable = true\n      if (this.onPrintImgTimmer)\n        clearTimeout(this.onPrintImgTimmer)\n\n      this.onPrintImgTimmer = setTimeout(() => {\n        this.cropPicture(true)\n      }, 100)\n      this.resetToolBox()\n    },\n    toolBoxMouseUp() {\n      this.toolBox.x = parseInt(this.toolBoxPosition.x)\n      this.toolBox.y = parseInt(this.toolBoxPosition.y)\n      this.toolBox.disable = true\n      this.dropImg.active = false\n      this.resetToolBox()\n    },\n    // 绘制图片\n    printImg() {\n      if (this.drawImg.img) {\n        const canv = this.$refs.canvas\n\n        const ctx = canv.getContext('2d')\n\n        // 文字水印\n        ctx.font = '18px bold 黑体'\n        ctx.fillStyle = '#ff0'\n        ctx.textAlign = 'center'\n        ctx.textBaseline = 'middle'\n        ctx.save()\n        ctx.clearRect(0, 0, canv.width, canv.height)\n        ctx.translate(this.drawImg.x + this.drawImg.width / 2, this.drawImg.y + this.drawImg.height / 2)\n        ctx.rotate((this.rotateImg.angle * Math.PI) / 180)\n        ctx.translate(\n          -(this.drawImg.x + this.drawImg.width / 2),\n          -(this.drawImg.y + this.drawImg.height / 2),\n        )\n        ctx.translate(this.drawImg.x, this.drawImg.y)\n        ctx.scale(this.isFlipHorizontal ? -1 : 1, this.isFlipVertically ? -1 : 1)\n        ctx.drawImage(\n          this.drawImg.img,\n          this.drawImg.sx,\n          this.drawImg.sy,\n          this.drawImg.swidth,\n          this.drawImg.sheight,\n          this.isFlipHorizontal ? -this.drawImg.width : 0,\n          this.isFlipVertically ? -this.drawImg.height : 0,\n          this.drawImg.width,\n          this.drawImg.height,\n        )\n        ctx.translate(-this.drawImg.x, this.drawImg.y)\n\n        ctx.restore()\n        if (this.onPrintImgTimmer)\n          clearTimeout(this.onPrintImgTimmer)\n\n        this.onPrintImgTimmer = setTimeout(() => {\n          this.cropPicture(true)\n        }, 100)\n      }\n    },\n    // 拖动图片\n    dropImgOn(e) {\n      if (this.imgMove === true) {\n        this.dropImg.active = true\n        this.dropImg.params = { ...this.drawImg }\n        this.dropImg.pageX = e.pageX\n        this.dropImg.pageY = e.pageY\n      }\n    },\n    dropImgOff() {\n      this.dropImg.active = false\n      if (this.onPrintImgTimmer)\n        clearTimeout(this.onPrintImgTimmer)\n\n      this.onPrintImgTimmer = setTimeout(() => {\n        this.cropPicture(true)\n      }, 100)\n    },\n    dropImgMove(e) {\n      if (this.dropImg.active && this.drawImg.img) {\n        const drawImg = { ...this.drawImg }\n        drawImg.x = this.dropImg.params.x - (this.dropImg.pageX - e.pageX)\n        drawImg.y = this.dropImg.params.y - (this.dropImg.pageY - e.pageY)\n        // 裁剪框是否能够超出图片\n        if (!this.toolBoxOverflow) {\n          if (drawImg.x > this.toolBox.x)\n            drawImg.x = this.toolBox.x\n\n          if (drawImg.x < this.toolBox.x + this.toolBox.width - drawImg.width)\n            drawImg.x = this.toolBox.x + this.toolBox.width - drawImg.width\n\n          if (drawImg.y > this.toolBox.y)\n            drawImg.y = this.toolBox.y\n\n          if (drawImg.y < this.toolBox.y + this.toolBox.height - drawImg.height)\n            drawImg.y = this.toolBox.y + this.toolBox.height - drawImg.height\n        }\n        // this.$set(this, 'drawImg', drawImg);\n        this.drawImg = drawImg\n        this.printImg()\n        e.stopPropagation()\n      }\n    },\n    // 缩放\n    scaleReset() {\n      this.drawImg.width = this.drawImg.swidth\n      this.drawImg.height = this.drawImg.sheight\n      this.printImg()\n    },\n    scaleImgWheel(e) {\n      if (this.drawImg.img && this.scaleAble === true) {\n        let scale\n\n        // e是FF的事件。window.event是chrome/ie/opera的事件\n        const ee = e || window.event\n\n        if (ee.wheelDelta) {\n          // IE/Opera/Chrome\n          scale = -(ee.wheelDelta / 40)\n        }\n        else if (ee.detail) {\n          // Firefox\n          scale = ee.detail\n        }\n\n        const widthLimit = 50\n        this.drawImg.x\n                        = this.drawImg.width - scale * 9 > widthLimit ? this.drawImg.x + scale * 3 : this.drawImg.x\n        this.drawImg.y\n                        = this.drawImg.width - scale * 9 > widthLimit ? this.drawImg.y + scale * 3 : this.drawImg.y\n        this.drawImg.width\n                        = this.drawImg.width - scale * 9 > widthLimit ? this.drawImg.width - scale * 9 : widthLimit\n        this.drawImg.height = this.drawImg.width / this.scaleImg.rate\n\n        this.checkToolBoxOverflow().then(() => {\n          this.printImg()\n          if (this.onPrintImgTimmer)\n            clearTimeout(this.onPrintImgTimmer)\n\n          this.onPrintImgTimmer = setTimeout(() => {\n            this.cropPicture(true)\n          }, 100)\n        })\n      }\n      // let scrollTop = this.$refs['mask'].scrollTop;\n      // window.scrollTo(this.$refs['mask'].scrollLeft,scrollTop);\n      e.preventDefault()\n      e.returnValue = false\n      return false\n    },\n    // 水平翻转\n    flipHorizontal() {\n      if (this.drawImg.img) {\n        if (this.isFlipHorizontal == false)\n          this.isFlipHorizontal = true\n        else\n          this.isFlipHorizontal = false\n\n        this.printImg()\n      }\n    },\n    // 垂直翻转\n    flipVertically() {\n      if (this.drawImg.img) {\n        if (this.isFlipVertically == false)\n          this.isFlipVertically = true\n        else\n          this.isFlipVertically = false\n\n        this.printImg()\n      }\n    },\n    // 旋转\n    turnImg(angle) {\n      const startAngle = this.rotateImg.angle\n\n      const turnAngle = startAngle + angle\n\n      if (turnAngle >= -180 && turnAngle <= 180) {\n        this.rotateImg.angle = turnAngle\n        this.rotateControl.position = (turnAngle / 180) * 100 + 100\n        this.printImg('rotate')\n      }\n    },\n    autoTurnImg(angle) {\n      const startAngle = this.rotateImg.angle\n      const turnAngle = startAngle + angle\n      if (turnAngle >= -180 && turnAngle <= 180) {\n        this.rotateImg.angle = turnAngle\n        this.rotateControl.position = (turnAngle / 180) * 100 + 100\n        this.printImg('rotate')\n      }\n    },\n    turnReset() {\n      this.rotateImg.angle = 0\n      this.rotateControl.position = 100\n      this.printImg('rotate')\n    },\n    // control box\n    controlBtnMouseDown(e, btnName) {\n      this.controlBox.disable = false\n      this.controlBox.btnName = btnName\n      this.controlBox.start.x = e.clientX\n      this.controlBox.start.y = e.clientY\n      this.controlBox.start.width = this.toolBox.width\n      this.controlBox.start.height = this.toolBox.height\n      e.stopPropagation()\n    },\n    controlBtnMouseUp(e) {\n      this.controlBox.disable = true\n      this.dropImgOff()\n      this.resetToolBox()\n      this.toolBoxMouseUp()\n      e.stopPropagation()\n    },\n\n    controlBtnMouseMove(e) {\n      if (this.controlBox.disable === false) {\n        const offsetX = e.clientX - this.controlBox.start.x\n\n        const offsetY = e.clientY - this.controlBox.start.y\n\n        let x, y\n\n        if (this.controlBox.btnName == 'leftUp') {\n          if (!this.rate) {\n            x = this.toolBox.x + offsetX\n            y = this.toolBox.y + offsetY\n          }\n          else {\n            const p = this.rate.split(':')[0] / this.rate.split(':')[1]\n\n            if (p >= 1) {\n              x = this.toolBox.x + offsetX\n              y = this.toolBox.y + offsetX / p\n            }\n            else {\n              x = this.toolBox.x + offsetY * p\n              y = this.toolBox.y + offsetY\n            }\n          }\n          this.toolBox.width = this.controlBox.start.width - offsetX\n          this.toolBox.height = this.controlBox.start.height - offsetY\n        }\n        if (this.controlBox.btnName == 'rightUp') {\n          if (!this.rate) {\n            x = this.toolBox.x\n            y = this.toolBox.y + offsetY\n          }\n          else {\n            const p = this.rate.split(':')[0] / this.rate.split(':')[1]\n\n            if (p >= 1) {\n              x = this.toolBox.x\n              y = this.toolBox.y - offsetX / p\n            }\n            else {\n              x = this.toolBox.x\n              y = this.toolBox.y + offsetY\n            }\n          }\n          this.toolBox.width = this.controlBox.start.width + offsetX\n          this.toolBox.height = this.controlBox.start.height - offsetY\n        }\n        if (this.controlBox.btnName == 'rightDown') {\n          x = this.toolBox.x\n          y = this.toolBox.y\n          this.toolBox.width = this.controlBox.start.width + offsetX\n          this.toolBox.height = this.controlBox.start.height + offsetY\n        }\n        if (this.controlBox.btnName == 'leftDown') {\n          if (!this.rate) {\n            x = this.toolBox.x + offsetX\n            y = this.toolBox.y\n          }\n          else {\n            const p = this.rate.split(':')[0] / this.rate.split(':')[1]\n\n            if (p >= 1) {\n              x = this.toolBox.x + offsetX\n              y = this.toolBox.y\n            }\n            else {\n              x = this.toolBox.x + -offsetY * p\n              y = this.toolBox.y\n            }\n          }\n          this.toolBox.width = this.controlBox.start.width - offsetX\n          this.toolBox.height = this.controlBox.start.height + offsetY\n        }\n        if (this.controlBox.btnName == 'topCenter') {\n          x = this.toolBox.x\n          y = this.toolBox.y + offsetY\n          this.toolBox.width = this.controlBox.start.width\n          this.toolBox.height = this.controlBox.start.height - offsetY\n        }\n        if (this.controlBox.btnName == 'downCenter') {\n          x = this.toolBox.x\n          y = this.toolBox.y\n          this.toolBox.width = this.controlBox.start.width\n          this.toolBox.height = this.controlBox.start.height + offsetY\n        }\n        if (this.controlBox.btnName == 'leftCenter') {\n          x = this.toolBox.x + offsetX\n          y = this.toolBox.y\n          this.toolBox.width = this.controlBox.start.width - offsetX\n          this.toolBox.height = this.controlBox.start.height\n        }\n        if (this.controlBox.btnName == 'rightCenter') {\n          x = this.toolBox.x\n          y = this.toolBox.y\n          this.toolBox.width = this.controlBox.start.width + offsetX\n          this.toolBox.height = this.controlBox.start.height\n        }\n        this.drawControlBox(this.toolBox.width, this.toolBox.height, x, y)\n      }\n      e.stopPropagation()\n    },\n    changeFileName(fileName, type) {\n      const index = fileName.lastIndexOf('.')\n\n      return fileName.substr(0, index + 1) + (type === 'jpeg' ? 'jpg' : type)\n    },\n    cropPicture(doNotReset) {\n      const _this = this\n\n      if (this.drawImg.img) {\n        // get img\n        const canvas = this.$refs.canvas\n\n        // 文字水印\n        if (this.WatermarkText && !doNotReset) {\n          const ctx2 = canvas.getContext('2d')\n\n          ctx2.font = this.WatermarkTextFont\n          ctx2.fillStyle = this.WatermarkTextColor\n          ctx2.textAlign = 'right'\n          ctx2.textBaseline = 'bottom'\n          ctx2.fillText(\n            this.WatermarkText,\n            this.toolBox.x + this.toolBox.width * this.WatermarkTextX,\n            this.toolBox.y + this.toolBox.height * this.WatermarkTextY,\n          )\n        }\n\n        const tempImg = new Image()\n\n        if (this.crossOrigin === true)\n          tempImg.crossOrigin = this.crossOriginHeader\n\n        tempImg.src = canvas.toDataURL(`image/${this.fileType}`)\n\n        if (!HTMLCanvasElement.prototype.toBlob) {\n          Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n            value: (callback, type, quality) => {\n              if (window.atob) {\n                setTimeout(() => {\n                  const binStr = atob(canvas.toDataURL(type, quality).split(',')[1])\n\n                  const len = binStr.length\n                  const arr = new Uint8Array(len)\n\n                  let NewBlob\n\n                  for (let i = 0; i < len; i++)\n                    arr[i] = binStr.charCodeAt(i)\n\n                  try {\n                    NewBlob = new Blob([arr], {\n                      type: `image/${_this.fileType}`,\n                    })\n                  }\n                  catch (e) {\n                    window.BlobBuilder\n                                                = window.BlobBuilder\n                                                || window.WebKitBlobBuilder\n                                                || window.MozBlobBuilder\n                                                || window.MSBlobBuilder\n                    if (e.name == 'TypeError' && window.BlobBuilder) {\n                      const BlobBuilder = window.BlobBuilder\n\n                      const bb = new BlobBuilder()\n\n                      bb.append(arr.buffer)\n                      NewBlob = bb.getBlob(`image/${_this.fileType}`)\n                    }\n                    if (e.name == 'InvalidStateError')\n                      NewBlob = new Blob([arr.buffer], { type: `image/${_this.fileType}` })\n                  }\n                  // TypeError old chrome and FF\n                  callback(NewBlob)\n                }, 200)\n              }\n              else {\n                callback(false, {\n                  type: `image/${_this.fileType}`,\n                })\n              }\n            },\n          })\n        }\n        canvas.toBlob((blob) => {\n          if (blob) {\n            const reader = new FileReader()\n\n            reader.readAsDataURL(blob)\n            reader.onload = () => {\n              const timmer = setInterval(() => {\n                if (reader.readyState == 2) {\n                  clearInterval(timmer)\n                  const newCanv = document.createElement('canvas')\n\n                  const ctx = newCanv.getContext('2d')\n\n                  // 原图裁剪 originalGraph\n                  if (_this.originalGraph == true) {\n                    const scale = _this.drawImg.width / _this.drawImg.swidth\n\n                    // 计算实际图像大小\n                    const transWidth = _this.toolBox.width / scale\n\n                    const transHeight = _this.toolBox.height / scale\n\n                    newCanv.width = transWidth\n                    newCanv.height = transHeight\n                    // 重新计算裁剪坐标\n                    const sx = (_this.toolBox.x - _this.drawImg.x) / scale\n\n                    const sy = (_this.toolBox.y - _this.drawImg.y) / scale\n\n                    const swidth = _this.drawImg.swidth\n\n                    const sheight = _this.drawImg.sheight\n\n                    // TODO 使原图裁剪支持旋转后的图像\n                    // ctx.translate(sx + transWidth/2, sy + transHeight/2);\n                    // ctx.rotate((_this.rotateImg.angle) * Math.PI / 180);\n                    // ctx.translate(-(sx + transWidth/2), -(sy + transHeight/2));\n                    ctx.translate(-sx, -sy)\n                    ctx.drawImage(_this.drawImg.img, 0, 0, swidth, sheight)\n                  }\n                  else {\n                    newCanv.width = _this.toolBox.width\n                    newCanv.height = _this.toolBox.height\n                    const params = _this.toolBox\n\n                    if (_this.rate) {\n                      const p = _this.rate.split(':')[0] / _this.rate.split(':')[1]\n\n                      const m = _this.rate.split(':')[0]\n\n                      const n = _this.rate.split(':')[1]\n\n                      if (m >= n) {\n                        ctx.drawImage(\n                          tempImg,\n                          params.x,\n                          params.y,\n                          params.width,\n                          params.width * p,\n                          0,\n                          0,\n                          params.width,\n                          params.width * p,\n                        )\n                      }\n                      else {\n                        ctx.drawImage(\n                          tempImg,\n                          params.x,\n                          params.y,\n                          params.width,\n                          params.width / p,\n                          0,\n                          0,\n                          params.width,\n                          params.width / p,\n                        )\n                      }\n                    }\n                    else {\n                      ctx.drawImage(\n                        tempImg,\n                        params.x,\n                        params.y,\n                        params.width,\n                        params.height,\n                        0,\n                        0,\n                        params.width,\n                        params.height,\n                      )\n                    }\n                  }\n                  newCanv.toBlob(\n                    (newBlob) => {\n                      const fileName = _this.changeFileName(_this.fileName, _this.fileType)\n\n                      if (!doNotReset) {\n                        _this.handleClose()\n                        _this.$emit('cutDown', {\n                          index: _this.index,\n                          fileName,\n                          blob: newBlob,\n                          file: _this.dataURLtoFile(\n                            newCanv.toDataURL(`image/${_this.fileType}`),\n                            fileName,\n                          ),\n                          dataURL: newCanv.toDataURL(`image/${_this.fileType}`),\n                        })\n                      }\n                      else {\n                        if (_this.previewMode) {\n                          _this.$emit('onPrintImg', {\n                            index: _this.index,\n                            fileName,\n                            blob: newBlob,\n                            file: _this.dataURLtoFile(\n                              newCanv.toDataURL(`image/${_this.fileType}`),\n                              fileName,\n                            ),\n                            dataURL: newCanv.toDataURL(`image/${_this.fileType}`),\n                          })\n                        }\n                      }\n                    },\n                    `image/${_this.fileType}`,\n                    0.95,\n                  )\n                }\n              }, 200)\n            }\n          }\n          else {\n            // IE9及以下\n            const newCanv = document.createElement('canvas')\n\n            newCanv.width = _this.toolBox.width\n            newCanv.height = _this.toolBox.height\n            const ctx = newCanv.getContext('2d')\n\n            const params = _this.toolBox\n\n            if (_this.rate) {\n              const p = _this.rate.split(':')[0] / _this.rate.split(':')[1]\n\n              ctx.drawImage(\n                tempImg,\n                params.x,\n                params.y,\n                params.width,\n                params.width * p,\n                0,\n                0,\n                params.width,\n                params.width * p,\n              )\n            }\n            else {\n              ctx.drawImage(\n                tempImg,\n                params.x,\n                params.y,\n                params.width,\n                params.height,\n                0,\n                0,\n                params.width,\n                params.height,\n              )\n            }\n            const fileName = _this.changeFileName(_this.fileName, _this.fileType)\n\n            if (!doNotReset) {\n              _this.handleClose()\n              _this.$emit('cutDown', {\n                fileName,\n                dataURL: newCanv.toDataURL(`image/${_this.fileType}`),\n              })\n            }\n            else {\n              _this.$emit('onPrintImg', {\n                fileName,\n                dataURL: newCanv.toDataURL(`image/${_this.fileType}`),\n              })\n            }\n          }\n        }),\n        `image/${_this.fileType}`\n      }\n      else {\n        if (!doNotReset) {\n          console.warn('No picture selected')\n          _this.$emit('error', {\n            err: 1,\n            msg: 'No picture selected',\n          })\n        }\n      }\n    },\n    scrollBarControlMove(e) {\n      if (this.rotateControl.active) {\n        const offsetX = e.pageX - this.rotateControl.start.x\n\n        //                let rotate = this.rotateImg.angle/360*100 + offsetX/100*100;\n        let position = this.rotateControl.start.position + offsetX\n\n        if (position <= 0)\n          position = 0\n\n        if (position >= 200)\n          position = 200\n\n        this.rotateControl.position = position\n        this.rotateImg.angle = ((position - 100) / 100) * 180\n        this.printImg()\n      }\n    },\n    scrollBarControlOn(e) {\n      this.rotateControl.active = true\n      this.rotateControl.start.x = e.pageX\n      this.rotateControl.start.y = e.pageY\n      this.rotateControl.start.position = this.rotateControl.position\n    },\n    scrollBarControlOff() {\n      this.rotateControl.active = false\n    },\n  },\n}\n</script>\n<style scoped>\n    .vue-img-cutter {\n        font-size: 12px;\n        line-height: 130%;\n    }\n\n    .fl {\n        float: left;\n    }\n\n    .fr {\n        float: right;\n    }\n\n    .i-dialog-footer {\n        display: block;\n        width: 100%;\n        margin-top: 15px;\n        margin-bottom: 15px;\n        text-align: left;\n    }\n\n    .mask {\n        background: rgba(0, 0, 0, 0.6);\n        position: fixed;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 999;\n    }\n\n    .dialogBox {\n        clear: both;\n    }\n\n    .dialogBoxModal {\n        position: relative;\n        padding-top: 100px;\n        padding-bottom: 100px;\n        clear: both;\n    }\n\n    .dialogMainModal {\n        line-height: 125%;\n        font-size: 16px;\n        position: absolute;\n        top: 100px;\n        left: 50%;\n        margin-bottom: 100px;\n        transform: translateX(-50%);\n        border: 1px solid rgba(0, 0, 0, 0.8);\n        border-radius: 3px;\n        box-sizing: border-box;\n        padding: 15px 15px 0 15px;\n        background: #fff;\n        z-index: 1000;\n        -webkit-touch-callout: none; /* iOS Safari */\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\n        -khtml-user-select: none; /* Konqueror */\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n        user-select: none; /* Non-prefixed version, currently*/\n        animation: dialogShow 0.3s;\n    }\n\n    .dialogMain {\n        line-height: 125%;\n        font-size: 16px;\n        box-sizing: border-box;\n        background: #fff;\n        z-index: 1000;\n        -webkit-touch-callout: none; /* iOS Safari */\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\n        -khtml-user-select: none; /* Konqueror */\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n        user-select: none; /* Non-prefixed version, currently*/\n    }\n\n    @keyframes dialogShow {\n        from {\n            margin-top: -50px;\n            opacity: 0;\n        }\n        to {\n            margin-top: 0;\n            opacity: 1;\n        }\n    }\n\n    .toolMain {\n        box-sizing: border-box;\n    }\n\n    .toolBox {\n        border: 1px solid #dedede;\n        background-image: linear-gradient(\n                45deg,\n                rgba(0, 0, 0, 0.25) 25%,\n                transparent 0,\n                transparent 75%,\n                rgba(0, 0, 0, 0.25) 0\n            ),\n            linear-gradient(45deg, rgba(0, 0, 0, 0.25) 25%, transparent 0, transparent 75%, rgba(0, 0, 0, 0.25) 0);\n        background-color: #eee;\n        background-size: 30px 30px;\n        background-position: 0 0, 15px 15px;\n        position: relative;\n    }\n\n    .tool-title {\n        margin-bottom: 10px;\n    }\n\n    .canvas {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 98;\n    }\n\n    .canvasSelectBox {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 99;\n    }\n\n    @keyframes zi-antBorder {\n        0% {\n            background-position: 0px 0px;\n        }\n        50% {\n            background-position: 0px 5px;\n        }\n        100% {\n            background-position: 0px 10px;\n        }\n    }\n\n    .toolBoxControl {\n        background: rgba(255, 255, 255, 0);\n        /*background:#fff;*/\n        position: absolute;\n        z-index: 101;\n        box-sizing: border-box;\n        /*border: 1px dotted #409EFF;*/\n    }\n\n    .toolBoxControlBox {\n        width: 100%;\n        height: 100%;\n        position: relative;\n        background: transparent;\n        z-index: 103;\n        pointer-events: none;\n    }\n\n    .controlBoxInnerLine {\n        position: absolute;\n        z-index: 1;\n        background-size: 10px 10px;\n        background-image: linear-gradient(\n            -45deg,\n            rgba(64, 158, 255, 1) 25%,\n            rgba(64, 158, 255, 0) 25%,\n            rgba(64, 158, 255, 0) 50%,\n            rgba(64, 158, 255, 1) 50%,\n            rgba(64, 158, 255, 1) 75%,\n            rgba(64, 158, 255, 0) 75%,\n            rgba(64, 158, 255, 0)\n        );\n        -ms-animation: zi-antBorder 0.8s linear 0s infinite normal;\n        -moz-animation: zi-antBorder 0.8s linear 0s infinite normal;\n        -webkit-animation: zi-antBorder 0.8s linear 0s infinite normal;\n        animation: zi-antBorder 0.8s linear 0s infinite normal;\n        pointer-events: none;\n    }\n\n    .controlBoxInnerLineTop {\n        height: 1px;\n        width: 100%;\n        top: -1px;\n    }\n\n    .controlBoxInnerLineBottom {\n        height: 1px;\n        width: 100%;\n        bottom: -1px;\n    }\n\n    .controlBoxInnerLineLeft {\n        height: 100%;\n        width: 1px;\n        left: -1px;\n        top: 0;\n    }\n\n    .controlBoxInnerLineRight {\n        height: 100%;\n        width: 1px;\n        right: -1px;\n        top: 0;\n    }\n\n    .toolBoxControlLine {\n        position: absolute;\n        z-index: 1;\n        background: transparent;\n    }\n\n    .toolBoxControlLineItem-1 {\n        top: 33%;\n        width: 100%;\n        height: 1px;\n        box-sizing: border-box;\n        border-bottom: 1px dashed #409eff;\n    }\n\n    .toolBoxControlLineItem-2 {\n        top: 66%;\n        width: 100%;\n        height: 1px;\n        box-sizing: border-box;\n        border-bottom: 1px dashed #409eff;\n    }\n\n    .toolBoxControlLineItem-3 {\n        left: 33%;\n        border-right: 1px dashed #409eff;\n        height: 100%;\n        width: 1px;\n        box-sizing: border-box;\n    }\n\n    .toolBoxControlLineItem-4 {\n        left: 66%;\n        border-right: 1px dashed #409eff;\n        height: 100%;\n        width: 1px;\n        box-sizing: border-box;\n    }\n\n    .controlBox {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        cursor: move;\n        z-index: 1;\n        pointer-events: none;\n    }\n\n    .controlBtn {\n        border: 1px solid rgba(255, 255, 255, 0.5);\n        box-sizing: border-box;\n        width: 6px;\n        height: 6px;\n        background: #409eff;\n        position: absolute;\n        border-radius: 50%;\n        z-index: 999;\n        pointer-events: auto !important;\n    }\n\n    .leftUp {\n        top: 0;\n        left: 0;\n        margin-left: -3px;\n        margin-top: -3px;\n        cursor: se-resize;\n    }\n\n    .leftDown {\n        bottom: 0;\n        left: 0;\n        margin-left: -3px;\n        margin-bottom: -3px;\n        cursor: sw-resize;\n    }\n\n    .rightUp {\n        top: 0;\n        right: 0;\n        margin-right: -3px;\n        margin-top: -3px;\n        cursor: sw-resize;\n    }\n\n    .rightDown {\n        bottom: 0;\n        right: 0;\n        margin-right: -3px;\n        margin-bottom: -3px;\n        cursor: se-resize;\n    }\n\n    .topCenter {\n        top: 0;\n        right: 50%;\n        margin-right: -3px;\n        margin-top: -3px;\n        cursor: s-resize;\n    }\n\n    .downCenter {\n        bottom: 0;\n        right: 50%;\n        margin-right: -3px;\n        margin-bottom: -3px;\n        cursor: s-resize;\n    }\n\n    .leftCenter {\n        top: 50%;\n        left: 0;\n        margin-left: -3px;\n        margin-top: -3px;\n        cursor: e-resize;\n    }\n\n    .rightCenter {\n        top: 50%;\n        right: 0;\n        margin-right: -3px;\n        margin-top: -3px;\n        cursor: e-resize;\n    }\n\n    .toolBar {\n        margin-top: 10px;\n    }\n\n    .selectArea {\n        display: block;\n        width: 260px;\n        text-align: right;\n        color: #fff;\n        position: absolute;\n        top: -20px;\n        right: 0;\n        font-size: 10px;\n        user-select: none;\n    }\n\n    .tips {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        color: red;\n        z-index: 101;\n        transform: translate(-50%, -50%);\n    }\n\n    .btn {\n        display: inline-block;\n        text-align: center;\n        background: #dedede;\n        height: 40px;\n        line-height: 40px;\n        padding: 0 20px;\n        box-sizing: border-box;\n        border-radius: 4px;\n        cursor: pointer;\n        border: 1px solid;\n        font-size: 14px;\n        transition: background 0.3s, color 0.3s;\n        -webkit-touch-callout: none; /* iOS Safari */\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\n        -khtml-user-select: none; /* Konqueror */\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n        user-select: none; /* Non-prefixed version, currently*/\n    }\n\n    .btn[disabled] {\n        opacity: 0.6;\n        color: #333;\n        border-color: #dedede !important;\n        background-color: #fff !important;\n        cursor: default;\n    }\n\n    .btn[disabled]:hover {\n        opacity: 0.6;\n        color: #333 !important;\n        border-color: #dedede !important;\n        background-color: #fff !important;\n    }\n\n    .btn-default {\n        color: #333;\n        border-color: #dcdfe6;\n        background-color: #fff;\n        transition: background 0.3s, color 0.3s;\n    }\n\n    .btn-default:hover {\n        color: #409eff;\n        border-color: #c6e2ff;\n        background-color: #ecf5ff;\n    }\n\n    .btn-primary {\n        color: #fff;\n        background-color: #409eff;\n        border-color: #409eff;\n        transition: background 0.3s, color 0.3s;\n    }\n\n    .btn-primary:hover {\n        background: #66b1ff;\n        border-color: #66b1ff;\n        color: #fff;\n    }\n\n    .btn-warning {\n        color: #fff;\n        background-color: #e6a23c;\n        border-color: #e6a23c;\n    }\n\n    .btn-warning:hover {\n        color: #fff;\n        background-color: #eeba6c;\n        border-color: #e6a23c;\n        transition: background 0.3s, color 0.3s;\n    }\n\n    .btn-primary-plain {\n        color: #409eff;\n        border-color: #c6e2ff;\n        background-color: #ecf5ff;\n        transition: background 0.3s, color 0.3s;\n    }\n\n    .btn-primary-plain:hover {\n        background: #66b1ff;\n        border-color: #66b1ff;\n        color: #fff;\n    }\n\n    .btn-xs {\n        height: 26px;\n        line-height: 26px;\n        padding: 0 10px;\n        font-size: 12px;\n    }\n\n    .dialog-footer {\n        float: right;\n    }\n\n    .fade-enter-active,\n    .fade-leave-active {\n        transition: opacity 0.3s;\n    }\n\n    .fade-enter,\n    .fade-leave-to {\n        opacity: 0;\n    }\n\n    .fade-in-enter {\n        margin-top: -50px;\n        opacity: 0;\n        transition: margin-top 0.2s, opacity 0.2s;\n    }\n\n    .fade-out-enter {\n        transition: margin-top 0.2s, opacity 0.2s;\n    }\n\n    .fade-in-active {\n        transition: margin-top 0.2s, opacity 0.2s;\n    }\n\n    .fade-out-active {\n        margin-top: -50px;\n        opacity: 0;\n        transition: margin-top 0.2s, opacity 0.2s;\n    }\n\n    .file-input {\n        height: 40px;\n        line-height: 40px;\n        padding: 0 10px;\n        box-sizing: border-box;\n        border-radius: 4px;\n        border: 1px solid #dedede;\n    }\n\n    .file-input::placeholder {\n        color: #c0c4cc;\n    }\n\n    .toolbar-item {\n        display: inline-block;\n    }\n\n    .closeIcon {\n        float: right;\n        cursor: pointer;\n        display: block;\n        background: #c6e2ff;\n        color: #fff;\n        width: 18px;\n        height: 18px;\n        line-height: 18px;\n        text-align: center;\n        border-radius: 50%;\n        margin: 0;\n        padding: 0;\n        transition: transform 0.3s, background 0.3s;\n        /*transform: rotate(90deg);*/\n    }\n\n    .closeIcon:hover {\n        background: #409eff;\n        transform: rotate(180deg);\n    }\n\n    .copyright {\n        font-size: 10px !important;\n        clear: both !important;\n        width: 100% !important;\n        text-align: right !important;\n        display: block !important;\n        opacity: 0.5 !important;\n        position: absolute !important;\n        bottom: 0 !important;\n        right: 0 !important;\n        line-height: 100% !important;\n        z-index: 100 !important;\n    }\n\n    .copyright a {\n        color: #fff !important;\n        text-decoration: none !important;\n        position: relative !important;\n        opacity: 1 !important;\n        display: inline-block !important;\n        padding: 2px !important;\n        background: rgba(0, 0, 0, 0.4);\n    }\n\n    /*工具栏*/\n    .dockMain {\n        position: absolute;\n        z-index: 1002;\n        bottom: 5px;\n        left: 5px;\n        /*transform: translateX(-50%);*/\n        opacity: 0.5;\n        transition: opacity 0.5s;\n        /*width: 98%;*/\n        box-sizing: border-box;\n        padding: 5px 5px;\n        border-radius: 5px;\n    }\n\n    .dockMain:hover {\n        opacity: 1;\n    }\n\n    .dockBtn {\n        font-size: 10px;\n        cursor: pointer;\n        display: inline-block;\n        margin-right: 4px;\n        color: #409eff;\n        border: 1px solid #c6e2ff;\n        background-color: #ecf5ff;\n        padding: 1px 4px;\n        border-radius: 3px;\n        height: 20px;\n        line-height: 16px;\n        transition: background 0.2s, color 0.2s;\n        -webkit-touch-callout: none; /* iOS Safari */\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\n        -khtml-user-select: none; /* Konqueror */\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n        user-select: none; /* Non-prefixed version, currently*/\n    }\n\n    .dockBtn:hover {\n        color: #fff;\n        background-color: #409eff;\n        border-color: #409eff;\n    }\n\n    /* 旋转进度条 */\n    .dockBtnScrollBar {\n        display: inline-block;\n        margin-right: 4px;\n        margin-left: 10px;\n        background: #409eff;\n        width: 200px;\n        height: 10px;\n        border-radius: 5px;\n        position: relative;\n        -webkit-touch-callout: none; /* iOS Safari */\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\n        -khtml-user-select: none; /* Konqueror */\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n        user-select: none; /* Non-prefixed version, currently*/\n    }\n\n    .scrollBarControl {\n        position: absolute;\n        cursor: pointer;\n        background: #fff;\n        border: 2px solid #409eff;\n        box-sizing: border-box;\n        border-radius: 50%;\n        width: 20px;\n        height: 20px;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        box-shadow: 0 0 3px #1f5184;\n    }\n\n    .scrollBarText {\n        position: absolute;\n        cursor: pointer;\n        background: rgba(0, 0, 0, 0.7);\n        padding: 2px;\n        color: #fff;\n        top: -16px;\n        height: 14px;\n        line-height: 14px;\n        text-align: center;\n        font-size: 10px;\n        border-radius: 3px;\n        transform: translate(-50%, -50%);\n    }\n</style>\n","import mod from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgCutter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgCutter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImgCutter.vue?vue&type=template&id=35891e32&scoped=true&\"\nimport script from \"./ImgCutter.vue?vue&type=script&lang=js&\"\nexport * from \"./ImgCutter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImgCutter.vue?vue&type=style&index=0&id=35891e32&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35891e32\",\n  null\n  \n)\n\nexport default component.exports","import ImgCutter from '../src/components/ImgCutter.vue'\nexport default ImgCutter\n","<template>\r\n  <Modal\r\n    v-model=\"showModal\"\r\n    draggable\r\n    sticky\r\n    :reset-drag-position=\"true\"\r\n    :mask=\"false\"\r\n    :width=\"800\"\r\n    title=\"智能裁剪\"\r\n    ok-text=\"保存修改\"\r\n    cancel-text=\"取消修改\"\r\n    @on-visible-change=\"handleVisibleChange\"\r\n    @on-ok=\"saveCropedImg\"\r\n    @on-cancel=\"closeModal\"\r\n  >\r\n    <div class=\"img-cutter\">\r\n      <div class=\"modal-left\">\r\n        <ImgCutter\r\n          ref=\"imgCutterModal\"\r\n          :is-modal=\"false\"\r\n          :box-width=\"570\"\r\n          :box-height=\"400\"\r\n          :show-choose-btn=\"false\"\r\n          :preview-mode=\"true\"\r\n          :size-change=\"true\"\r\n          :cut-width=\"200\"\r\n          :cut-height=\"280\"\r\n          rate=\"10:14\"\r\n          :auto-rotate=\"autoRotate\"\r\n          @cutDown=\"cutDown\"\r\n          @onPrintImg=\"printImg\"\r\n          @onClearAll=\"clearImg\"\r\n          @error=\"error\"\r\n        >\r\n          <!-- <template #choose> </template> -->\r\n          <template #cancel>\r\n            <Button ref=\"cancelButton\" type=\"text\" disabled>\r\n              取消\r\n            </Button>\r\n          </template>\r\n          <template #confirm>\r\n            <Button ref=\"cropButton\" type=\"primary\" disabled>\r\n              裁剪\r\n            </Button>\r\n          </template>\r\n        </ImgCutter>\r\n      </div>\r\n      <div class=\"modal-right\">\r\n        <div ref=\"previewimg\" class=\"preview-img\">\r\n          <!-- <img ref=\"previewimg\" src=\"\" alt=\"\" /> -->\r\n        </div>\r\n        <div class=\"right-button\">\r\n          <Button\r\n            ref=\"autoRotateButton\"\r\n            class=\"right-button\"\r\n            type=\"primary\"\r\n            disabled\r\n            :loading=\"loading\"\r\n            @click=\"smartRotate\"\r\n          >\r\n            <span v-if=\"!loading\">自动矫正</span>\r\n            <span v-else>处理中...</span>\r\n          </Button>\r\n          <!-- <Button\r\n            ref=\"autoRotateButton\"\r\n            class=\"right-button\"\r\n            type=\"primary\"\r\n            disabled\r\n            @click=\"smartRotate\"\r\n          >\r\n            自动矫正\r\n          </Button> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Modal>\r\n</template>\r\n\r\n<script>\r\nimport * as faceapi from 'face-api.js'\r\nimport { mapGetters, mapState } from 'vuex'\r\nimport ImgCutter from '../ImgCutter/src/'\r\nexport default {\r\n  name: 'SmartCrop',\r\n  components: {\r\n    ImgCutter,\r\n  },\r\n  model: {\r\n    prop: 'smartCropModalVal',\r\n    event: 'input',\r\n  },\r\n  props: ['smartCropModalVal'],\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      autoRotate: 0,\r\n      cutdownImgPreviewSrc: '',\r\n      loading: false,\r\n    }\r\n  },\r\n  watch: {\r\n    smartCropModalVal(nv) {\r\n      this.showModal = nv\r\n    },\r\n    showModal(nv) {\r\n      if (nv && this.$store.state.currentMainPreviewImgName) {\r\n        this.$refs.imgCutterModal.handleOpen({\r\n          name: this.$store.state.currentMainPreviewImgName,\r\n          src: this.getCurrentImgSrc,\r\n        })\r\n        this.$refs.cancelButton.$el.removeAttribute('disabled')\r\n        this.$refs.cropButton.$el.removeAttribute('disabled')\r\n        this.$refs.autoRotateButton.$el.removeAttribute('disabled')\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState(['currentMainPreviewImgName']),\r\n    ...mapGetters(['getCurrentImgSrc']),\r\n  },\r\n  mounted() {\r\n    this.showModal = this.smartCropModalVal\r\n  },\r\n  methods: {\r\n    handleVisibleChange(val) {\r\n      // val || this.$emit(\"input\", val);\r\n      if (val === false) {\r\n        this.$emit('input', val)\r\n        this.autoRotate = 0\r\n        this.$refs.cancelButton.$el.click()\r\n        this.cutdownImgPreviewSrc = ''\r\n      }\r\n      if (val === true) {\r\n        try {\r\n          this.cutdownImgPreviewSrc = this.getCurrentImgSrc\r\n        }\r\n        catch (err) {\r\n          console.log()\r\n        }\r\n      }\r\n      // this.autoRotate = -this.autoRotate;\r\n      // this.$refs.cancelButton.$el.click();\r\n      // this.autoRotate = -this.autoRotate;\r\n    },\r\n    calcAng(leftEye, rightEye) {\r\n      // 右眼在左眼上右上方\r\n      if (rightEye.y <= leftEye.y && rightEye.x >= leftEye.x) {\r\n        const radian = Math.atan(\r\n          (leftEye.y - rightEye.y) / (rightEye.x - leftEye.x),\r\n        )\r\n        const angle = (radian * 180) / Math.PI\r\n        return angle\r\n      }\r\n      // 右眼在左眼右下方\r\n      if (rightEye.y >= leftEye.y && leftEye.x < rightEye.x) {\r\n        const radian = Math.atan(\r\n          (rightEye.y - leftEye.y) / (rightEye.x - leftEye.x),\r\n        )\r\n        const angle = (radian * 180) / Math.PI\r\n        return -angle\r\n      }\r\n    },\r\n    async loadModel() {\r\n      await faceapi.nets.ssdMobilenetv1.loadFromUri('/models/')\r\n      await faceapi.nets.faceLandmark68Net.loadFromUri('/models/')\r\n    },\r\n    async smartRotate() {\r\n      try {\r\n        if (this.cutdownImgPreviewSrc === '') throw new Error('没有选择图片')\r\n        const input = new Image()\r\n        input.src = this.cutdownImgPreviewSrc\r\n        this.loading = true\r\n        await this.loadModel()\r\n        const detectionWithLandmarks = await faceapi\r\n          .detectSingleFace(input)\r\n          .withFaceLandmarks()\r\n        const landmarks = detectionWithLandmarks.landmarks\r\n        const leftEye = landmarks.positions[36]\r\n        const rightEye = landmarks.positions[45]\r\n        this.autoRotate = this.calcAng(leftEye, rightEye)\r\n        this.loading = false\r\n        this.$Message.success('自动矫正处理成功')\r\n        this.$refs.autoRotateButton.$el.setAttribute('disabled', 'false')\r\n      }\r\n      catch (error) {\r\n        this.$Message.error('处理失败')\r\n      }\r\n    },\r\n    cutDown(file) {\r\n      const img = document.createElement('img')\r\n      img.setAttribute('width', '160px')\r\n      img.setAttribute('height', '225px')\r\n      img.src = file.dataURL\r\n      this.$refs.previewimg.appendChild(img)\r\n      this.$refs.cancelButton.$el.setAttribute('disabled', 'true')\r\n      this.$refs.cropButton.$el.setAttribute('disabled', 'true')\r\n      this.$refs.autoRotateButton.$el.setAttribute('disabled', 'true')\r\n    },\r\n    printImg(file) {\r\n      let img = this.$refs.previewimg.firstChild\r\n      if (!img) {\r\n        img = document.createElement('img')\r\n        img.setAttribute('width', '160px')\r\n        img.setAttribute('height', '225px')\r\n        img.src = file.dataURL\r\n        this.$refs.previewimg.appendChild(img)\r\n      }\r\n      img.src = file.dataURL\r\n    },\r\n    clearImg() {\r\n      const img = this.$refs.previewimg.firstChild\r\n      if (img) img.remove()\r\n\r\n      this.cutdownImgPreviewSrc = ''\r\n      this.$refs.cancelButton.$el.setAttribute('disabled', 'true')\r\n      this.$refs.cropButton.$el.setAttribute('disabled', 'true')\r\n      this.$refs.autoRotateButton.$el.setAttribute('disabled', 'true')\r\n    },\r\n    error(err) {\r\n      if (err.msg === 'No picture selected') this.$Message.error('未选择图片')\r\n    },\r\n    saveCropedImg() {\r\n      const img = this.$refs.previewimg.firstChild\r\n      if (img) {\r\n        this.$store.dispatch('updateImgData', {\r\n          imgName: this.currentMainPreviewImgName,\r\n          imgSrc: img.src,\r\n        })\r\n        this.$Message.success('保存修改成功')\r\n      }\r\n      else {\r\n        this.$Message.error('未进行任何修改')\r\n      }\r\n    },\r\n    closeModal() {\r\n      if (this.currentMainPreviewImgName !== '')\r\n        this.$Message.warning('未进行任何修改！')\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.img-cutter {\r\n  display: flex;\r\n  .modal-right {\r\n    width: 198px;\r\n    text-align: center;\r\n    .preview-img {\r\n      margin: auto;\r\n      width: 175px;\r\n      height: 245px;\r\n    }\r\n    .right-button {\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./SmartCrop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./SmartCrop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SmartCrop.vue?vue&type=template&id=64bc6e89&scoped=true&\"\nimport script from \"./SmartCrop.vue?vue&type=script&lang=js&\"\nexport * from \"./SmartCrop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SmartCrop.vue?vue&type=style&index=0&id=64bc6e89&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64bc6e89\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"draggable\":\"\",\"sticky\":\"\",\"reset-drag-position\":true,\"mask\":false,\"width\":600,\"title\":\"智能替换背景\",\"ok-text\":\"保存修改\",\"cancel-text\":\"取消修改\"},on:{\"on-visible-change\":_vm.handleVisibleChange,\"on-ok\":_vm.saveReplacedImg,\"on-cancel\":_vm.closeModal},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[(_vm.getCurrentImgSrc)?_c('div',{staticClass:\"background-replace\"},[_c('div',{staticClass:\"left\"},[_c('img',{attrs:{\"src\":_vm.getCurrentImgSrc,\"alt\":\"\",\"width\":\"200\",\"height\":\"280\"}})]),_c('div',{staticClass:\"middle\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"width\":\"200\",\"height\":\"280\"}})]),(_vm.getCurrentImgSrc)?_c('div',{staticClass:\"right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.replaceBgColor('blue')}}},[_vm._v(\" 换蓝色背景 \")]),_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.replaceBgColor('red')}}},[_vm._v(\" 换红色背景 \")]),_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.replaceBgColor('white')}}},[_vm._v(\" 换白色背景 \")])],1):_vm._e()]):_c('h3',[_vm._v(\" 请先选择图片 \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  api_key: '5Tv5VWWBYtPNtkB2c4l3MPbePwtg1qtx',\n  api_secret: '_NlDutPsgZ6HmG_y_bO4It6_Bj8IXlTA',\n  image_base64: '',\n  return_grayscale: 0,\n}\n","<template>\n  <Modal\n    v-model=\"showModal\"\n    draggable\n    sticky\n    :reset-drag-position=\"true\"\n    :mask=\"false\"\n    :width=\"600\"\n    title=\"智能替换背景\"\n    ok-text=\"保存修改\"\n    cancel-text=\"取消修改\"\n    @on-visible-change=\"handleVisibleChange\"\n    @on-ok=\"saveReplacedImg\"\n    @on-cancel=\"closeModal\"\n  >\n    <div v-if=\"getCurrentImgSrc\" class=\"background-replace\">\n      <div class=\"left\">\n        <img :src=\"getCurrentImgSrc\" alt=\"\" width=\"200\" height=\"280\">\n      </div>\n      <div class=\"middle\">\n        <canvas id=\"canvas\" ref=\"canvas\" width=\"200\" height=\"280\" />\n      </div>\n      <div v-if=\"getCurrentImgSrc\" class=\"right\">\n        <Button type=\"primary\" @click=\"replaceBgColor('blue')\">\n          换蓝色背景\n        </Button>\n        <Button type=\"error\" @click=\"replaceBgColor('red')\">\n          换红色背景\n        </Button>\n        <Button type=\"text\" @click=\"replaceBgColor('white')\">\n          换白色背景\n        </Button>\n      </div>\n    </div>\n    <h3 v-else>\n      请先选择图片\n    </h3>\n  </Modal>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nimport axios from 'axios'\nimport qs from 'qs'\nimport formData from '@/config/faceppapi'\nexport default {\n  name: 'BackgroundReplace',\n  model: {\n    prop: 'backgroundReplaceModalVal',\n    event: 'input',\n  },\n  props: ['backgroundReplaceModalVal'],\n  data() {\n    return {\n      showModal: false,\n    }\n  },\n  watch: {\n    backgroundReplaceModalVal(nv) {\n      this.showModal = nv\n    },\n    currentMainPreviewImgName() {\n      if (this.$refs.canvas)\n        this.$refs.canvas.getContext('2d').clearRect(0, 0, 200, 280)\n    },\n  },\n  mounted() {\n    this.showModal = this.backgroundReplaceModalVal\n  },\n  computed: {\n    ...mapState(['currentMainPreviewImgName']),\n    ...mapGetters(['getCurrentImgSrc']),\n  },\n  methods: {\n    handleVisibleChange(val) {\n      val || this.$emit('input', val)\n    },\n    closeModal() {\n      if (this.currentMainPreviewImgName !== '')\n        this.$Message.warning('未进行任何修改！')\n    },\n    saveReplacedImg() {\n      if (this.$refs.canvas && !this.isCanvasBlank(this.$refs.canvas)) {\n        const canvas = this.$refs.canvas\n        const dataUrl = canvas.toDataURL()\n        this.$store.dispatch('updateImgData', {\n          imgName: this.currentMainPreviewImgName,\n          imgSrc: dataUrl,\n        })\n        this.$Message.success('背景替换成功')\n        if (this.$refs.canvas)\n          this.$refs.canvas.getContext('2d').clearRect(0, 0, 200, 280)\n      }\n      else {\n        this.$Message.error('未进行任何修改！')\n      }\n    },\n    // 验证canvas画布是否为空\n    isCanvasBlank(canvas) {\n      const blank = document.createElement('canvas')// 系统获取一个空canvas对象\n      blank.width = canvas.width\n      blank.height = canvas.height\n      return canvas.toDataURL() === blank.toDataURL()// 比较值相等则为空\n    },\n    async requestFacePP() {\n      try {\n        formData.image_base64 = this.getCurrentImgSrc\n        const res = await axios({\n          url: 'https://api-cn.faceplusplus.com/humanbodypp/v2/segment',\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n          data: qs.stringify(formData),\n        })\n        if (res.status === 200)\n          return res.data.body_image\n        else\n          throw new Error('背景替换失败')\n      }\n      catch (err) {\n        this.$Message.error('背景替换失败')\n      }\n      finally {\n        formData.image_base64 = ''\n      }\n    },\n    async replaceBgColor(color) {\n      let bgColor = ''\n      switch (color) {\n        case 'blue':\n          bgColor = '#00BFF3'\n          break\n        case 'red':\n          bgColor = '#FF0000'\n          break\n        case 'white':\n          bgColor = '#FFFFFF'\n          break\n      }\n      const frontImgBase64 = await this.requestFacePP()\n      const frontImgSrc = `data:image/png;base64,${frontImgBase64}`\n      const frontImg = new Image()\n      frontImg.src = frontImgSrc\n      frontImg.width = 200\n      frontImg.height = 280\n      frontImg.onload = () => {\n        const canvas = this.$refs.canvas\n        const ctx = canvas.getContext('2d')\n        ctx.fillStyle = bgColor\n        ctx.fillRect(0, 0, 200, 280)\n        ctx.drawImage(frontImg, 0, 0, 200, 280)\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.background-replace {\n  display: flex;\n  .left {\n    width: 200px;\n    height: 280px;\n  }\n  .middle {\n    width: 200px;\n    height: 280px;\n  }\n  .right {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 200px;\n    height: 280px;\n    Button {\n      margin: 15px 0;\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundReplace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundReplace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackgroundReplace.vue?vue&type=template&id=df7af7ac&scoped=true&\"\nimport script from \"./BackgroundReplace.vue?vue&type=script&lang=js&\"\nexport * from \"./BackgroundReplace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BackgroundReplace.vue?vue&type=style&index=0&id=df7af7ac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df7af7ac\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"header-view\">\r\n    <Header class=\"header\">\r\n      <Menu class=\"menu\" mode=\"horizontal\" theme=\"light\">\r\n        <div class=\"layout-nav\">\r\n          <Dropdown class=\"upload-img\">\r\n            <Upload\r\n              ref=\"upload\"\r\n              action=\"#\"\r\n              :multiple=\"false\"\r\n              :show-upload-list=\"false\"\r\n              :before-upload=\"loadImg\"\r\n              :format=\"['jpg', 'jpeg', 'png']\"\r\n              :accept=\"accept\"\r\n              :on-format-error=\"handleFormatError\"\r\n            >\r\n              <div class=\"upload\">\r\n                <Icon type=\"ios-add-circle-outline\" />\r\n                打开图片\r\n              </div>\r\n            </Upload>\r\n          </Dropdown>\r\n          <Dropdown class=\"reset-img\">\r\n            <Button type=\"text\" @click=\"resetCurrentImg\">\r\n              <Icon type=\"ios-crop\" />\r\n              重置修改\r\n            </Button>\r\n          </Dropdown>\r\n          <Dropdown class=\"crop-img\">\r\n            <Button type=\"text\" @click=\"smartCropModalVal = true\">\r\n              <Icon type=\"ios-crop\" />\r\n              裁剪图片\r\n            </Button>\r\n          </Dropdown>\r\n          <Dropdown class=\"replace-bg\">\r\n            <Button type=\"text\" @click=\"backgroundReplaceModalVal = true\">\r\n              <Icon type=\"ios-aperture-outline\" />\r\n              背景替换\r\n            </Button>\r\n          </Dropdown>\r\n          <Dropdown class=\"replace-bg\">\r\n            <Button type=\"text\" @click=\"exportImg\">\r\n              <Icon type=\"ios-cloud-download-outline\" />\r\n              导出下载\r\n            </Button>\r\n          </Dropdown>\r\n        </div>\r\n      </Menu>\r\n    </Header>\r\n    <SmartCrop v-model=\"smartCropModalVal\" />\r\n    <BackgroundReplace v-model=\"backgroundReplaceModalVal\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SmartCrop from '@/components/header/SmartCrop'\r\nimport BackgroundReplace from '@/components/header/BackgroundReplace'\r\nexport default {\r\n  components: { SmartCrop, BackgroundReplace },\r\n  data() {\r\n    return {\r\n      accept: 'image/jpeg,image/jpg,image/png',\r\n      smartCropModalVal: false,\r\n      backgroundReplaceModalVal: false,\r\n    }\r\n  },\r\n  methods: {\r\n    loadImg(file) {\r\n      const reader = new FileReader()\r\n      reader.readAsDataURL(file)\r\n      reader.onload = (img) => {\r\n        // 将上传的图片名字和base64Url分发\r\n        this.$store.dispatch('addImgData', {\r\n          imgName: file.name,\r\n          imgSrc: img.target.result,\r\n        })\r\n        this.$store.dispatch('changeCurrentImg', file.name)\r\n        // 清空上传列表\r\n        this.$refs.upload.clearFiles()\r\n      }\r\n      // 禁止默认自动上传\r\n      return false\r\n    },\r\n    handleFormatError() {\r\n      console.log('文件不是图片')\r\n    },\r\n    resetCurrentImg() {\r\n      if (this.$store.state.currentMainPreviewImgName === '') {\r\n        this.$Message.error('没有要重置的图片')\r\n      }\r\n      else {\r\n        this.$store.dispatch('resetCurrentImg')\r\n        this.$Message.success('重置成功！')\r\n      }\r\n    },\r\n    exportImg() {\r\n      const currentImgSrc = this.$store.getters.getCurrentImgSrc\r\n      if (currentImgSrc) {\r\n        const a = document.createElement('a')\r\n        const event = new MouseEvent('click')\r\n        a.download = '导出.png'\r\n        a.href = currentImgSrc\r\n        a.dispatchEvent(event)\r\n      }\r\n      else {\r\n        this.$Message.error('未选择图片')\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  background-color: #f6f6f6 !important;\r\n  padding: 0 !important;\r\n  .menu {\r\n    width: 1024px;\r\n    .upload {\r\n      width: 225px;\r\n      text-align: center !important;\r\n      background-color: #2e3033;\r\n      color: #fff !important;\r\n    }\r\n    .upload:hover {\r\n      cursor: pointer;\r\n      color: #42b683 !important;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderView.vue?vue&type=template&id=476914cb&scoped=true&\"\nimport script from \"./HeaderView.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeaderView.vue?vue&type=style&index=0&id=476914cb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"476914cb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{staticClass:\"main\"},[_c('Sider',{staticClass:\"sider\",attrs:{\"hide-trigger\":\"\"}},[_c('SiderPreviewCard')],1),_c('Content',{staticClass:\"content\"},[_c('MainPreviewCard')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.OriginImgData),function(img){return _c('Card',{key:img.imgName,staticClass:\"card\",attrs:{\"padding\":5}},[_c('div',{staticClass:\"preview-img\",staticStyle:{\"text-align\":\"center\"},on:{\"click\":function($event){return _vm.changeMainPreview(img.imgName)}}},[_c('img',{attrs:{\"src\":img.imgSrc}})]),_c('Tooltip',{staticClass:\"remove-img\",attrs:{\"content\":\"点击删除此照片\",\"placement\":\"right\",\"theme\":\"light\"}},[_c('Button',{attrs:{\"type\":\"text\",\"size\":\"large\",\"icon\":\"ios-trash\"},on:{\"click\":function($event){return _vm.removeImg(img.imgName)}}})],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Card\r\n      v-for=\"img in OriginImgData\"\r\n      :key=\"img.imgName\"\r\n      class=\"card\"\r\n      :padding=\"5\"\r\n    >\r\n      <div\r\n        class=\"preview-img\"\r\n        style=\"text-align: center\"\r\n        @click=\"changeMainPreview(img.imgName)\"\r\n      >\r\n        <img :src=\"img.imgSrc\">\r\n      </div>\r\n      <Tooltip\r\n        class=\"remove-img\"\r\n        content=\"点击删除此照片\"\r\n        placement=\"right\"\r\n        theme=\"light\"\r\n      >\r\n        <Button\r\n          type=\"text\"\r\n          size=\"large\"\r\n          icon=\"ios-trash\"\r\n          @click=\"removeImg(img.imgName)\"\r\n        />\r\n      </Tooltip>\r\n      <!-- <div class=\"remove-img\">\r\n        <Button type=\"dashed\" size=\"small\"><Icon type=\"ios-trash\" /></Button>\r\n      </div> -->\r\n    </Card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'PreviewCard',\r\n  computed: {\r\n    ...mapState(['OriginImgData']),\r\n    OriginImgDataList() {\r\n      if (this.OriginImgData)\r\n        return this.OriginImgData\r\n\r\n      return []\r\n    },\r\n  },\r\n  methods: {\r\n    removeImg(imgName) {\r\n      this.$store.dispatch('removeImg', imgName)\r\n    },\r\n    changeMainPreview(imgName) {\r\n      this.$store.dispatch('changeCurrentImg', imgName)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.card {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 190px !important;\r\n  height: 140px !important;\r\n  margin: 10px auto;\r\n  // padding: 10px !important;\r\n  .preview-img {\r\n    width: 170px;\r\n    height: 120px;\r\n    cursor: pointer;\r\n  }\r\n  img {\r\n    object-fit: contain;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .remove-img {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./SiderPreviewCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./SiderPreviewCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SiderPreviewCard.vue?vue&type=template&id=d843d828&scoped=true&\"\nimport script from \"./SiderPreviewCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SiderPreviewCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SiderPreviewCard.vue?vue&type=style&index=0&id=d843d828&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d843d828\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"show-img\"}},[(_vm.ModifiedImgData.length != 0)?_c('img',{attrs:{\"src\":_vm.getCurrentImgSrc,\"alt\":\"\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"show-img\">\r\n    <img v-if=\"ModifiedImgData.length != 0\" :src=\"getCurrentImgSrc\" alt=\"\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex'\r\nexport default {\r\n  name: 'MainPreviewCard',\r\n  computed: {\r\n    ...mapState(['ModifiedImgData']),\r\n    ...mapGetters(['getCurrentImgSrc']),\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#show-img {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 650px;\r\n  height: 450px;\r\n  // background-color: aqua;\r\n}\r\nimg {\r\n  object-fit: contain;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPreviewCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPreviewCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPreviewCard.vue?vue&type=template&id=49758519&scoped=true&\"\nimport script from \"./MainPreviewCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPreviewCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainPreviewCard.vue?vue&type=style&index=0&id=49758519&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49758519\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Layout class=\"main\">\r\n    <Sider class=\"sider\" hide-trigger>\r\n      <SiderPreviewCard />\r\n    </Sider>\r\n    <Content class=\"content\">\r\n      <MainPreviewCard />\r\n    </Content>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport SiderPreviewCard from '@/components/main/SiderPreviewCard.vue'\r\nimport MainPreviewCard from '@/components/main/MainPreviewCard.vue'\r\nexport default {\r\n  components: { SiderPreviewCard, MainPreviewCard },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n  background-color: #f6f6f6 !important;\r\n}\r\n.sider {\r\n  background-color: #2e3033 !important;\r\n  max-width: 225px !important;\r\n  min-width: 225px !important;\r\n  width: 225px !important;\r\n}\r\n.content {\r\n  display: flex;\r\n  height: 500px;\r\n  background-color: #fff;\r\n  margin: 50px;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./MainView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./MainView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainView.vue?vue&type=template&id=4ba4d24c&scoped=true&\"\nimport script from \"./MainView.vue?vue&type=script&lang=js&\"\nexport * from \"./MainView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainView.vue?vue&type=style&index=0&id=4ba4d24c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ba4d24c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <div class=\"layout\">\r\n      <Layout>\r\n        <HeaderView />\r\n        <MainView />\r\n      </Layout>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HeaderView from '@/views/header/HeaderView.vue'\r\nimport MainView from '@/views/main/MainView.vue'\r\nexport default {\r\n  components: {\r\n    HeaderView,\r\n    MainView,\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#app {\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.layout {\r\n  width: 1024px;\r\n  // margin: auto auto;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.70.0/node_modules/thread-loader/dist/cjs.js!../node_modules/.pnpm/babel-loader@8.2.4_fa907c5a4f16ccc493e21649ccc59574/node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=f8b444ba&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=f8b444ba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.pnpm/vue-loader@15.9.8_1f9b6d6a8c5e3033a639476f0cf6d876/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8b444ba\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    // 左侧原始图片数据，原始图片不修改\r\n    OriginImgData: JSON.parse(localStorage.getItem('OriginImgData')) || [],\r\n    // 中间显示图片数据，中间图片会进行修改操作\r\n    ModifiedImgData: JSON.parse(localStorage.getItem('ModifiedImgData')) || [],\r\n    // 当前中间显示图片的名字\r\n    currentMainPreviewImgName: localStorage.getItem('currentMainPreviewImgName') || '',\r\n  },\r\n  getters: {\r\n    // 获取中间显示图片的图片base64\r\n    getCurrentImgSrc(state) {\r\n      // 中间图片是要显示被修改的图片，而不是原始图片\r\n      if (state.ModifiedImgData.length > 0) {\r\n        return state.ModifiedImgData.find(\r\n          // 根据currentMainPreviewImgName来获取当前应该显示的图片\r\n          item => item.imgName === state.currentMainPreviewImgName,\r\n        ).imgSrc\r\n      }\r\n      return ''\r\n    },\r\n  },\r\n  mutations: {\r\n    // 打开图片，往ModifiedImgData也添加一份\r\n    ADD_IMG_DATA(state, img) {\r\n      state.OriginImgData.push(img)\r\n      state.ModifiedImgData.push(img)\r\n      localStorage.setItem('OriginImgData', JSON.stringify(state.OriginImgData))\r\n      localStorage.setItem('ModifiedImgData', JSON.stringify(state.ModifiedImgData))\r\n    },\r\n    // 根据图片名字从OriginImgData和ModifiedImgData中删除对应图片\r\n    RM_IMG_DATA(state, imgName) {\r\n      // 加载的图片不止一张\r\n      if (state.OriginImgData.length > 1) {\r\n        // 删除名字为imgName的图片\r\n        state.OriginImgData = state.OriginImgData.filter(\r\n          item => item.imgName !== imgName,\r\n        )\r\n        state.ModifiedImgData = state.ModifiedImgData.filter(\r\n          item => item.imgName !== imgName,\r\n        )\r\n        // 如果删除的不是当前显示的图片，则让当前图片指向最后一张图片\r\n        if (state.currentMainPreviewImgName === imgName) {\r\n          state.currentMainPreviewImgName\r\n            = state.OriginImgData[state.OriginImgData.length - 1].imgName\r\n        }\r\n        localStorage.setItem('OriginImgData', JSON.stringify(state.OriginImgData))\r\n        localStorage.setItem('ModifiedImgData', JSON.stringify(state.ModifiedImgData))\r\n        localStorage.setItem('currentMainPreviewImgName', state.currentMainPreviewImgName)\r\n      }\r\n      else {\r\n        // 只剩下一张图片，则直接全部清空完成删除\r\n        state.OriginImgData = []\r\n        state.ModifiedImgData = []\r\n        state.currentMainPreviewImgName = ''\r\n        localStorage.removeItem('OriginImgData')\r\n        localStorage.removeItem('ModifiedImgData')\r\n        localStorage.removeItem('currentMainPreviewImgName')\r\n      }\r\n    },\r\n    UPDATE_IMG_DATA(state, img) {\r\n      const index = state.ModifiedImgData.findIndex(\r\n        item => item.imgName === img.imgName,\r\n      )\r\n      state.ModifiedImgData.splice(index, 1, img)\r\n      localStorage.setItem('ModifiedImgData', JSON.stringify(state.ModifiedImgData))\r\n    },\r\n    CHANGE_CURRENT_IMG(state, imgName) {\r\n      state.currentMainPreviewImgName = imgName\r\n      localStorage.setItem('currentMainPreviewImgName', state.currentMainPreviewImgName)\r\n    },\r\n    RESET_CURRENT_IMG(state) {\r\n      if (state.ModifiedImgData.length > 0) {\r\n        const currentOriginImgData = state.OriginImgData.find(\r\n          item => item.imgName === state.currentMainPreviewImgName,\r\n        )\r\n        const ModifiedImgIndex = state.ModifiedImgData.findIndex(\r\n          item => item.imgName === state.currentMainPreviewImgName,\r\n        )\r\n        state.ModifiedImgData.splice(ModifiedImgIndex, 1, currentOriginImgData)\r\n      }\r\n      localStorage.setItem('ModifiedImgData', JSON.stringify(state.ModifiedImgData))\r\n    },\r\n  },\r\n  actions: {\r\n    addImgData({ commit }, img) {\r\n      commit('ADD_IMG_DATA', img)\r\n    },\r\n    updateImgData({ commit }, img) {\r\n      commit('UPDATE_IMG_DATA', img)\r\n    },\r\n    changeCurrentImg({ commit }, imgName) {\r\n      commit('CHANGE_CURRENT_IMG', imgName)\r\n    },\r\n    removeImg({ commit }, imgName) {\r\n      commit('RM_IMG_DATA', imgName)\r\n    },\r\n    resetCurrentImg({ commit }) {\r\n      commit('RESET_CURRENT_IMG')\r\n    },\r\n  },\r\n  modules: {},\r\n})\r\n","import Vue from 'vue'\r\nimport ViewUI from 'view-design'\r\nimport App from './App.vue'\r\nimport store from './store'\r\nimport 'view-design/dist/styles/iview.css'\r\nVue.use(ViewUI)\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  store,\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkidphotomaker\"] = self[\"webpackChunkidphotomaker\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(625); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","ref","loadImg","accept","handleFormatError","_v","on","resetCurrentImg","$event","smartCropModalVal","backgroundReplaceModalVal","exportImg","model","value","callback","$$v","expression","handleVisibleChange","saveCropedImg","closeModal","showModal","autoRotate","cutDown","printImg","clearImg","error","scopedSlots","_u","key","fn","proxy","loading","smartRotate","showChooseBtn","isModal","handleOpen","_t","_e","$slots","openImgCutter","open","_s","label","class","style","boxWidth","handleClose","boxHeight","controlBtnMouseMove","controlBtnMouseUp","directives","name","rawName","drawImg","img","chooseImg","tool","dropImg","active","controlBox","disable","toolBox","toolBgc","dropImgOff","rate","scaleReset","swidth","width","toFixed","originalGraph","turnImg","turnReset","rotateControl","position","scrollBarControlMove","scrollBarControlOn","scrollBarControlOff","rotateImg","angle","flipHorizontal","flipVertically","toolBoxMouseDown","toolBoxMouseUp","toolBoxMouseMove","toolBoxMouseLeave","showToolBoxWidth","showToolBoxHeight","showToolBoxX","showToolBoxY","sizeChange","controlBtnMouseDown","height","DoNotDisplayCopyright","version","dropImgOn","dropImgMove","staticStyle","putImgToCanv","cropPicture","description","author","private","scripts","serve","build","lint","dependencies","devDependencies","main","repository","type","url","keywords","license","bugs","homepage","eslintConfig","root","env","node","extends","parserOptions","parser","rules","browserslist","props","crossOrigin","Boolean","default","required","crossOriginHeader","String","lockScroll","Number","cutWidth","cutHeight","imgMove","moveAble","previewMode","CuttingOriginal","WatermarkText","WatermarkTextFont","WatermarkTextColor","WatermarkTextX","WatermarkTextY","smallToUpload","saveCutPosition","scaleAble","index","fileType","toolBoxOverflow","require","data","toolBoxWidth","toolBoxHeight","visible","fileName","cutImageObj","onPrintImgTimmer","toolBoxPosition","x","y","sx","sy","sheight","boxMove","start","moveTo","pageX","pageY","params","scaleImg","btnName","selectBox","selectBoxColor","isFlipHorizontal","isFlipVertically","computed","result","watch","nv","autoTurnImg","mounted","config","$nextTick","methods","document","mask","dialogBoxHeight","windowHeight","Error","$image","top","opacity","onerror","console","event","e","msg","onload","complete","init","src","body","appendChild","$emit","clearAll","$refs","inputFile","click","importImgToCanv","imgWidth","imgHeight","putToolBox","target","files","file","reader","readAsDataURL","newUrl","readyState","clearInterval","timmer","filename","checkToolBoxOverflow","then","drawControlBox","Promise","log","resolve","isSupportFileApi","window","dataURLtoFile","dataurl","n","u8arr","bstr","charCodeAt","ctx","clearRect","c","ctx1","c1","clearCutImageObj","undefined","remove","fillStyle","fillRect","p","toolBoxControlWidth","toolBoxControlHeight","Math","abs","$toolBoxControl","left","clearTimeout","setTimeout","resetToolBox","parseInt","$toolBox","split","font","textAlign","textBaseline","save","canv","translate","rotate","scale","drawImage","restore","stopPropagation","scaleImgWheel","ee","wheelDelta","detail","preventDefault","returnValue","turnAngle","clientX","clientY","offsetX","offsetY","changeFileName","substr","doNotReset","ctx2","fillText","tempImg","canvas","toDataURL","HTMLCanvasElement","prototype","toBlob","Object","defineProperty","atob","arr","i","binStr","NewBlob","Blob","BlobBuilder","bb","append","buffer","getBlob","blob","_this","newCanv","transWidth","transHeight","m","dataURL","warn","err","component","components","ImgCutter","prop","cutdownImgPreviewSrc","$store","state","currentMainPreviewImgName","imgCutterModal","getCurrentImgSrc","cancelButton","$el","removeAttribute","cropButton","autoRotateButton","mapState","mapGetters","val","calcAng","leftEye","rightEye","faceapi","input","withFaceLandmarks","detectionWithLandmarks","landmarks","setAttribute","previewimg","createElement","$Message","dispatch","imgName","imgSrc","success","saveReplacedImg","replaceBgColor","api_key","api_secret","image_base64","return_grayscale","isCanvasBlank","dataUrl","blank","formData","axios","method","headers","res","color","bgColor","frontImgBase64","frontImgSrc","frontImg","SmartCrop","BackgroundReplace","currentImgSrc","a","download","href","dispatchEvent","_l","changeMainPreview","removeImg","OriginImgDataList","OriginImgData","ModifiedImgData","length","SiderPreviewCard","MainPreviewCard","HeaderView","MainView","Vue","Vuex","JSON","parse","localStorage","getItem","getters","find","item","mutations","ADD_IMG_DATA","push","setItem","stringify","RM_IMG_DATA","filter","removeItem","UPDATE_IMG_DATA","findIndex","splice","CHANGE_CURRENT_IMG","RESET_CURRENT_IMG","currentOriginImgData","ModifiedImgIndex","actions","addImgData","commit","updateImgData","changeCurrentImg","modules","ViewUI","store","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","every","r","getter","__esModule","d","definition","o","enumerable","get","g","globalThis","Function","obj","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}